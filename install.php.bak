<?php
 goto RZQ09; pwsoL: exit; goto hn3u5; BvFZy: if ($ret["\162\157\x6f\x74"]["\x6f\153"]) { goto Ptdnj; } goto D4dSe; QEPau: if (!($database_result !== true)) { goto PkLJb; } goto YGpi8; tfnpI: if (!(is_array($data) && isset($data["\145\162\x72\157\x72"]))) { goto GOLLO; } goto C5ebo; FZEa_: if (!($handle_result !== true)) { goto w0Tlk; } goto EslMf; wX2LQ: foreach ($ret as $key => $value) { goto kNfqC; zSASN: UnCf3: goto aLafT; s31Af: ZcAqF: goto kSOKF; kNfqC: if (!(version_compare(PHP_VERSION, "\67\56\x30\56\60") >= 0 && in_array($key, array("\x6d\143\x72\x79\x70\x74", "\x61\x6c\167\141\171\163\x5f\x70\157\x70\165\154\141\x74\x65\137\x72\141\x77\x5f\160\157\x73\x74\x5f\144\x61\164\x61")))) { goto ZcAqF; } goto kFezn; kFezn: goto UnCf3; goto s31Af; fmkXp: uXBUO: goto zSASN; PDRaZ: $result[] = $value; goto fmkXp; kSOKF: if (!$value["\146\x61\x69\154\x65\144"]) { goto uXBUO; } goto z6Wee; z6Wee: $value["\x68\x61\x6e\x64\154\x65"] = !empty($value["\150\141\x6e\x64\x6c\x65"]) ? $value["\x68\x61\156\x64\154\x65"] : "\x68\164\164\160\72\x2f\x2f\163\x2e\167\67\x2e\x63\x63\57\x77\x6f\x2f\160\162\157\x62\x6c\145\155\x2f\64\x36"; goto PDRaZ; aLafT: } goto GZ8Dy; zNBEs: $download_size = filesize("\56\57\167\x65\x37\x73\x6f\165\162\x63\x65\56\172\x69\160"); goto tc57r; SWT32: if (!empty($chunk_total)) { goto xsYHo; } goto jN50F; K7sFV: BnIvP: goto ozbZI; bONmx: function we7_db() { goto D7lPB; yp8N6: if (file_exists(IA_INSTALL_ROOT . "\57\x69\x6e\x64\145\170\x2e\x70\150\160") && is_dir(IA_INSTALL_ROOT . "\x2f\x77\x65\x62") && file_exists(IA_INSTALL_ROOT . "\x2f\x66\x72\141\155\x65\167\x6f\162\153\57\166\x65\162\x73\151\x6f\x6e\56\151\156\143\x2e\x70\x68\160") && file_exists($dbfile)) { goto Obnub; } goto rxd9N; zND0n: $link->exec("\x53\105\x54\40\143\x68\x61\162\x61\x63\164\145\x72\137\163\145\x74\x5f\143\157\156\x6e\145\x63\164\151\x6f\x6e\75\165\x74\146\70\x2c\x20\143\150\x61\x72\x61\143\x74\x65\x72\x5f\163\x65\164\137\x72\x65\x73\165\154\164\x73\75\x75\x74\x66\x38\54\x20\143\150\141\x72\x61\143\x74\x65\x72\x5f\163\145\x74\x5f\143\154\151\145\156\164\75\x62\151\x6e\141\x72\x79"); goto MR9hj; W33_G: $cookie["\150\141\x73\x68"] = md5($password . $salt); goto odK_h; gDSjk: foreach ($dat["\163\x63\x68\145\155\141\x73"] as $schema) { goto mhCTr; uYxOn: local_run($sql, $link, $db); goto C7Iul; mhCTr: $sql = local_create_sql($schema, $support_innodb); goto uYxOn; C7Iul: O2YQ8: goto xLsHJ; xLsHJ: } goto nK285; Gdrl7: require IA_INSTALL_ROOT . "\57\x64\x61\164\x61\x2f\x63\157\156\146\x69\x67\x2e\x70\x68\x70"; goto ilzXJ; llUz0: $salt = local_salt(8); goto aBa3E; TyhQb: $cookie = array("\154\x61\163\164\x76\x69\x73\x69\164" => '', "\x6c\141\x73\164\x69\x70" => ''); goto sAt0c; jbOP1: define("\111\x4e\x5f\x49\x41", true); goto Gdrl7; jbFNQ: if (!(empty($dat) || !is_array($dat))) { goto yrYu7; } goto Fw8RB; jHnNA: $dbfile = IA_INSTALL_ROOT . "\57\x64\141\164\x61\57\x64\142\x2e\160\150\160"; goto yp8N6; na3Pb: foreach ($all_engines as $engine) { goto mGkm5; mGkm5: if (!(strtolower($engine["\x45\156\147\x69\x6e\145"]) == "\151\156\156\x6f\x64\x62" && in_array(strtolower($engine["\123\x75\160\x70\x6f\x72\164"]), array("\144\x65\146\x61\x75\154\x74", "\x79\x65\163")))) { goto g60V9; } goto LRtcl; LRtcl: $support_innodb = true; goto qdWen; zl_yz: Ce4Ma: goto SnFWn; qdWen: g60V9: goto zl_yz; SnFWn: } goto W4QDh; D7lPB: global $is_https; goto jbOP1; MR9hj: $link->exec("\x53\105\x54\x20\163\x71\x6c\x5f\155\x6f\x64\x65\75\x27\47"); goto jHnNA; nK285: sS68G: goto XOUFL; Msrz_: Obnub: goto twYH3; y4v83: $cookiepre = $config["\143\157\157\153\151\145"]["\160\162\145"]; goto iwFks; dYG7P: goto kwGpy; goto Msrz_; z_ZHR: $link->exec("\111\116\x53\105\x52\124\x20\111\x4e\x54\117\40{$db["\160\162\x65\146\151\x78"]}\x75\x73\145\162\163\40\x28\165\163\x65\x72\x6e\141\x6d\x65\54\40\x70\x61\163\x73\167\x6f\x72\144\x2c\40\163\x61\x6c\x74\x2c\x20\x6a\x6f\151\156\x64\141\x74\145\x2c\x20\147\x72\157\165\x70\x69\x64\54\x20\x73\164\x61\164\165\x73\54\40\146\157\x75\x6e\144\x65\162\137\147\x72\x6f\x75\x70\151\144\x2c\x20\151\x73\x5f\x62\x69\x6e\x64\x29\x20\x56\x41\114\125\105\x53\x28\47{$user["\165\x73\145\x72\x6e\141\x6d\145"]}\x27\x2c\x20\x27{$password}\47\x2c\x20\x27{$salt}\x27\54\x20\47" . time() . "\47\54\40\61\x2c\x20\62\x2c\40\61\54\x20\60\x29"); goto TyhQb; FM9wI: $secure = $is_https ? 1 : 0; goto n3wDm; XOUFL: foreach ($dat["\144\141\x74\141\x73"] as $data) { local_run($data, $link, $db); M0sOV: } goto ZGwCJ; aWPFs: return true; goto GVS93; Fw8RB: return "\xe5\xae\x89\xe8\xa3\205\xe5\214\205\xe4\270\215\346\255\243\347\241\xae\x2c\x20\346\x95\xb0\346\215\xae\345\256\211\xe8\xa3\205\xe8\x84\232\346\234\xac\xe7\xbc\272\345\xa4\261\56"; goto cpMQP; i978i: kwGpy: goto qylXr; D0Rj0: $all_engines = $engines->fetchAll(); goto na3Pb; iwFks: $authkey = $config["\x73\145\164\164\x69\x6e\x67"]["\141\165\164\x68\x6b\x65\171"]; goto pgkeI; sAt0c: $cookie["\165\x69\x64"] = $link->lastInsertId(); goto W33_G; cpMQP: yrYu7: goto bfl63; qylXr: $user = array("\165\163\x65\x72\x6e\141\155\145" => "\141\x64\155\151\x6e", "\160\141\x73\x73\167\157\x72\x64" => "\61\x32\x33\x34\x35\x36"); goto llUz0; n3wDm: setcookie("{$cookiepre}\x5f\x5f\163\145\163\x73\x69\157\x6e", $session, 0, "\x2f", '', $secure, true); goto aWPFs; W4QDh: pAru9: goto gDSjk; pgkeI: $link = new PDO("\155\x79\x73\x71\154\72\x64\142\x6e\141\155\x65\75{$db["\x6e\141\x6d\145"]}\x3b\150\x6f\163\x74\75{$db["\163\x65\x72\x76\145\162"]}\73\x70\x6f\x72\164\75{$db["\160\x6f\x72\164"]}", $db["\x75\163\x65\x72\156\x61\x6d\x65"], $db["\x70\141\163\163\x77\157\162\x64"]); goto zND0n; ZGwCJ: Bfxhq: goto i978i; twYH3: $dat = (require $dbfile); goto jbFNQ; aBa3E: $password = sha1("{$user["\160\141\x73\163\167\157\x72\x64"]}\55{$salt}\55{$authkey}"); goto z_ZHR; bfl63: $support_innodb = false; goto VFvpi; ilzXJ: $db = array("\x73\145\x72\166\x65\x72" => $config["\144\142"]["\155\x61\163\164\145\x72"]["\x68\x6f\163\x74"], "\x70\x6f\x72\x74" => $config["\144\x62"]["\x6d\141\x73\164\145\x72"]["\160\157\162\x74"], "\x75\163\145\x72\x6e\x61\x6d\x65" => $config["\144\142"]["\x6d\x61\x73\164\145\162"]["\x75\x73\145\162\156\141\x6d\x65"], "\x70\141\163\163\167\x6f\x72\x64" => $config["\144\142"]["\x6d\x61\163\x74\145\x72"]["\160\x61\x73\163\x77\x6f\x72\x64"], "\x70\x72\145\146\151\170" => $config["\144\x62"]["\155\141\x73\x74\x65\x72"]["\164\141\142\154\x65\160\x72\145"], "\156\141\155\145" => $config["\144\142"]["\x6d\x61\x73\x74\145\162"]["\x64\141\x74\x61\x62\x61\163\x65"]); goto y4v83; rxd9N: return "\345\xae\211\xe8\243\x85\345\x8c\x85\xe4\270\x8d\xe6\xad\243\347\241\256\56"; goto dYG7P; odK_h: $session = install_authcode(json_encode($cookie), "\x65\x6e\x63\157\144\x65", $authkey); goto FM9wI; VFvpi: $engines = $link->query("\123\110\117\127\40\x45\116\x47\x49\116\105\123\73"); goto D0Rj0; GVS93: } goto ObQGq; uagRH: QGmUd: goto AEJg_; YbSf_: if (!($register_site_result !== true)) { goto KEo0i; } goto AIlpa; tq2of: VNftF: goto ncZEv; EKMaG: if (!($local_install || $registered_site == 1)) { goto nWlrN; } goto I7Rr1; U7its: exit(we7_error(400, "\xe6\225\xb0\xe6\x8d\256\xe9\x94\231\350\257\257\56")); goto I3cb_; wONeP: $server["\165\x70\x6c\x6f\x61\x64"] = @ini_get("\146\x69\x6c\x65\x5f\x75\x70\154\x6f\x61\x64\x73") ? ini_get("\165\x70\154\157\141\144\x5f\x6d\141\x78\137\x66\151\154\x65\x73\151\172\x65") : "\165\156\x6b\156\x6f\167"; goto pzTYh; lYiHY: function we7_request_api($url, $post = array()) { goto DF_OE; MJG_S: if (is_array($result)) { goto vi6qs; } goto Li9MQ; zU_DO: vi6qs: goto KrZ58; Ifb3o: return array("\145\162\x72\x6f\x72" => 401); goto N1Ubq; DF_OE: $response = we7_http_request($url, $post); goto MU3mx; S0AdY: qUPPC: goto aYvpQ; KrZ58: return $result; goto Cv8l3; Cv8l3: IF_vh: goto JU2ls; mJ1jD: goto IF_vh; goto zU_DO; MU3mx: if (!($response["\143\x6f\144\x65"] == 401)) { goto HLmDk; } goto Ifb3o; aYvpQ: $result = json_decode($response["\x63\157\x6e\164\145\x6e\x74"], true); goto MJG_S; Li9MQ: return $response["\143\157\156\164\x65\x6e\x74"]; goto mJ1jD; KIP9C: return array("\x65\162\162\x6f\162" => $response["\143\x6f\156\164\x65\x6e\164"]); goto S0AdY; EQY9I: if (!($response["\143\x6f\x64\x65"] != 200 || isset($response["\x65\162\162\x6e\x6f"]))) { goto qUPPC; } goto KIP9C; N1Ubq: HLmDk: goto EQY9I; JU2ls: } goto E13fz; OYPm4: require IA_INSTALL_ROOT . "\57\146\162\x61\155\145\x77\x6f\162\153\57\142\157\x6f\164\x73\164\x72\141\160\56\151\156\x63\56\160\150\x70"; goto rKeSx; lE8j1: exit(we7_error(400, $chunk_num)); goto w6DMp; yNE_g: cvVnC: goto LPoUN; OXCuc: if (!empty($data) && $data["\x73\164\141\164\165\163"] == 1) { goto oVRbo; } goto KvKik; ph5Ao: if (feof($hostfile)) { goto Qd3IH; } goto qmfVW; pb5Z5: $filesize = filesize($filename); goto Bsp1g; VUK3V: $accesstoken = we7_get_accesstoken(); goto Ck1Cn; j41Kg: if (!($sitename != $siteroot . "\xe7\232\204\xe7\253\x99\xe7\x82\xb9")) { goto uwi_e; } goto U8p7G; bPnad: $ret["\x64\141\x74\x61"]["\157\x6b"] = local_writeable(IA_INSTALL_ROOT . "\57\144\141\164\x61"); goto M2IwB; ncZEv: $ret["\146\157\x70\145\156"]["\x6f\x6b"] = @ini_get("\141\154\x6c\157\167\x5f\x75\162\154\137\x66\157\160\x65\156") && function_exists("\x66\x73\x6f\143\153\x6f\x70\145\156"); goto o09SX; ROVxn: goto HlxSo; goto lsIZc; wZ8D5: if (!($action == "\x67\x65\x74\x5f\163\x69\x74\x65\153\145\x79")) { goto SQ7M7; } goto NeeMM; jAuSe: mPDo7: goto VtJmZ; OKS88: $database_result = we7_db(); goto QEPau; Hwtkz: if (!($chunk_num == 1)) { goto QGmUd; } goto hxK0X; qmfVW: $output = fread($hostfile, 8192); goto u7Kqq; gbI9L: $sitepath = str_replace("\x2f\151\x6e\163\x74\141\154\x6c\56\160\x68\x70", '', $sitepath); goto l3KIi; WnUsq: $ret["\x66\x6f\160\x65\156"]["\x6e\141\155\145"] = "\x66\x6f\x70\145\156"; goto LUxfu; avcXp: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x61\x70\x70\x69\144" => "\x77\x62\x39\x33\71\146\141\x35\x39\x65\x30\141\x31\x38\71\144\65\146", "\x72\145\144\x69\162\x65\143\164" => $callback)); goto tdeYC; vk8oQ: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\57\x63\x68\x75\156\x6b\x5f" . $i); goto JlLiV; gpGfB: fclose($hostfile); goto Dsz3u; WfAVX: dT1ap: goto i7GJ8; Dizmz: jjVJr: goto Ib333; hODLn: function local_salt($length = 8) { goto v1bWo; P2g9w: return $result; goto bgVUS; S9wAs: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto P2g9w; v1bWo: $strs = "\x41\102\103\x44\105\x46\107\x48\x49\x4a\113\114\115\116\117\x50\x51\x52\123\124\125\x56\x57\x58\131\132\141\x62\x63\x64\145\146\147\150\151\152\x6b\x6c\156\x6d\157\160\161\162\163\x74\x75\x76\x77\170\x79\x7a\x30\x31\x32\x33\x34\x35\66\x37\70\71"; goto S9wAs; bgVUS: } goto e81lG; CBdU6: touch(IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\x2f\x64\142\56\x6c\x6f\x63\153"); goto zSc8X; lsIZc: bR6tq: goto vsZPE; SAUBe: define("\x49\x4e\123\124\101\114\114\x5f\126\x45\x52\x53\111\117\x4e", "\61\x2e\x32"); goto KTj5y; osxsN: LRCzX: goto z5eTx; BKuKr: we7_setcookie("\x72\x65\147\151\x73\164\145\x72\145\x64\137\x73\151\x74\145", 1); goto kue9V; ufkEh: E72PK: goto dGwFH; S2AWu: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\143\143\145\x73\x73\137\164\x6f\153\x65\x6e" => $accesstoken)); goto g_WXq; U5qzb: $cdn_source_file = "\x68\x74\x74\160\x73\72\x2f\x2f\x63\x64\156\x2e\167\x37\x2e\143\143\57\x64\x6f\167\x6e\154\157\x61\144\x2f\x69\x6e\163\x74\141\x6c\x6c\56\x7a\151\160\77\166\x3d" . time(); goto VUK3V; Fs9cl: bbByc: goto POfgh; OAdY9: if ($result) { goto lV5sM; } goto lE8j1; qndbB: exit(we7_error(400, "\350\257\267\xe9\x87\x8d\xe6\226\xb0\347\231\273\xe5\xbd\225\56")); goto wySSt; kJINm: Cmda5: goto Dbxks; qXjqC: function we7_upgrade() { goto PA1yK; dZRZc: $crelease = IMS_RELEASE_DATE; goto GopU6; WBfC2: MDAHC: goto Q977d; UlkTU: load()->func("\x66\151\154\x65"); goto P3RKw; d6Ypz: eVSOb: goto DLpLH; aIM6T: define("\111\x4e\137\123\x59\x53", true); goto mHIZ7; uo9pJ: $updatedir = IA_INSTALL_ROOT . "\57\x64\x61\x74\x61\57\x75\160\144\x61\164\x65\x2f"; goto txVeM; DLpLH: if (!(!empty($packet["\163\143\150\x65\x6d\141\x73"]) && is_array($packet["\163\143\150\145\x6d\141\x73"]))) { goto uZXYC; } goto bEh1W; P3RKw: $packet = cloud_build(); goto wxIbN; Cx3Xa: if (!(!empty($packet["\146\x69\x6c\x65\163"]) && is_array($packet["\x66\x69\x6c\x65\163"]))) { goto eVSOb; } goto k4fju; j49AH: load()->model("\x63\x6c\x6f\x75\x64"); goto rLUw_; Tb1bn: E7EBs: goto d6Ypz; GopU6: foreach ($packet["\x73\143\162\x69\x70\164\163"] as $script) { goto SMnGf; rrXjE: $crelease = $script["\162\145\154\145\x61\x73\x65"]; goto rsiSg; uSHLx: n2LIa: goto wu9BH; ROcb1: if (!empty($script["\163\x63\x72\151\x70\x74"])) { goto n2LIa; } goto OdIY7; HQwD3: eqA4Y: goto Qxfva; GoNxH: EcP8b: goto Vmtgm; Qxfva: $fname = "\165\x70\x64\x61\164\x65\50{$crelease}\55{$script["\x72\145\x6c\145\141\163\x65"]}\51\x2e\160\x68\160"; goto rrXjE; rvXPK: file_put_contents($updatefile, $script["\x73\143\x72\151\160\164"]); goto SfBnG; SfBnG: $updatefiles[] = $updatefile; goto GoNxH; SMnGf: if (!($script["\162\x65\154\x65\x61\x73\145"] <= $crelease)) { goto eqA4Y; } goto rVbwB; rVbwB: goto EcP8b; goto HQwD3; wu9BH: $updatefile = $updatedir . $fname; goto rvXPK; rsiSg: $script["\x73\143\x72\x69\160\164"] = @base64_decode($script["\163\x63\x72\x69\160\x74"]); goto ROcb1; OdIY7: $script["\x73\143\162\x69\x70\x74"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\x66\141\155\151\154\171"]}', '{$script["\x76\x65\162\x73\151\x6f\156"]}', '{$script["\x72\x65\154\145\141\x73\x65"]}');
return true;
DAT;
goto uSHLx; Vmtgm: } goto LLnVL; aFf8Y: MGiZL: goto WBfC2; b6DOK: if (empty($updatefiles)) { goto MGiZL; } goto Z8GGG; Z8GGG: foreach ($updatefiles as $file) { goto iAOgX; iAOgX: if (!(!is_file($file) || !preg_match("\x2f\x5e\x75\x70\144\141\164\x65\134\50\134\x64\x7b\61\62\x7d\x5c\x2d\134\x64\x7b\x31\x32\x7d\x5c\51\x5c\56\x70\150\x70\44\x2f", $file))) { goto aaVah; } goto w_Euv; Mfq2L: aaVah: goto n5hjU; TmDgZ: cache_build_users_struct(); goto FuvXU; w_Euv: goto XQ1Y4; goto Mfq2L; xZKQc: if (empty($evalret)) { goto ibtWx; } goto TmDgZ; FuvXU: cache_build_setting(); goto ZLVW5; ZLVW5: @unlink($entry); goto VVF2p; n5hjU: $evalret = (include $entry); goto xZKQc; ND5B3: XQ1Y4: goto CWDaO; VVF2p: ibtWx: goto ND5B3; CWDaO: } goto DPUgs; rLUw_: load()->func("\x64\x62"); goto UlkTU; k4fju: foreach ($packet["\x66\151\154\x65\163"] as $file) { cloud_download($file, "\x66\x69\154\145\x73"); UecBy: } goto Tb1bn; bEh1W: foreach ($packet["\x73\x63\150\x65\155\x61\x73"] as $schema) { goto WXU3L; zM6r0: dhpmN: goto lkXkf; pJRjy: foreach ($sqls as $sql) { pdo_query($sql); Z1AOb: } goto JdU1M; qOZkw: $sqls = db_table_fix_sql($local, $schema); goto pJRjy; JdU1M: hF40U: goto zM6r0; WXU3L: $tablename = substr($schema["\164\141\x62\x6c\145\156\141\x6d\145"], 4); goto Yu6HF; Yu6HF: $local = db_table_schema(pdo(), $tablename); goto qOZkw; lkXkf: } goto At3Ni; mHIZ7: require IA_INSTALL_ROOT . "\x2f\146\162\x61\155\x65\167\x6f\x72\x6b\57\142\157\x6f\164\163\164\x72\x61\160\x2e\151\x6e\x63\56\160\x68\160"; goto Awz0L; Q977d: return true; goto P7s3g; z5_Xv: $updatefiles = array(); goto uo9pJ; SJwCa: uZXYC: goto eDWRM; LLnVL: n2QaE: goto b6DOK; Awz0L: require IA_INSTALL_ROOT . "\57\167\x65\x62\x2f\143\x6f\x6d\155\157\x6e\57\x62\157\x6f\164\163\x74\x72\x61\160\56\x73\x79\163\56\x69\x6e\x63\x2e\160\150\160"; goto j49AH; nUQtB: return true; goto xLUzt; txVeM: rmdirs($updatedir, true); goto o_Y_D; xLUzt: IBgtY: goto Cx3Xa; DPUgs: IZsvL: goto aFf8Y; wxIbN: if (!empty($packet)) { goto IBgtY; } goto nUQtB; PA1yK: global $_W; goto aIM6T; eDWRM: if (!(!empty($packet["\163\x63\162\x69\x70\164\163"]) && is_array($packet["\163\x63\162\x69\160\x74\x73"]))) { goto MDAHC; } goto z5_Xv; At3Ni: O3UO7: goto SJwCa; o_Y_D: mkdirs($updatedir); goto QrKLv; QrKLv: $cversion = IMS_VERSION; goto dZRZc; P7s3g: } goto CZCqw; P011S: $local_install = true; goto HebDN; oHTgR: exit(we7_error(0, $sitekey)); goto mlHCz; o7Fsx: $ret["\x73\x65\163\x73\x69\157\156"]["\162\145\x73\x75\x6c\x74"] = "\347\xb3\xbb\xe7\xbb\x9f\163\x65\x73\x73\151\x6f\156\56\141\x75\x74\157\137\163\164\141\x72\x74\xe5\274\200\345\x90\257"; goto wH8kq; DxN3A: EAWZ7: goto riGAQ; JcOpW: we7_finish(); goto j41Kg; bFmBt: if (!(!empty($auth["\x75\x72\x6c"]) && $auth["\x75\162\154"] == $siteroot)) { goto yknXa; } goto lu1fp; RYVvH: function we7_finish() { goto GDhTs; JKzVo: we7_setcookie("\x69\155\x73\x5f\x66\x61\155\151\x6c\171", '', -10); goto as065; lzdNU: load()->web("\x63\x6f\155\x6d\157\x6e"); goto NjtAi; lB1I_: if (!($i <= $chunk_num)) { goto LlGxX; } goto BJMTK; BJMTK: @unlink("\56\x2f\143\150\165\x6e\153\137" . $i); goto DzmfR; OwtSU: @unlink(IA_INSTALL_ROOT . "\x2f\x63\150\x61\x6e\147\x65\x2e\x73\150"); goto s9caO; yHcpP: require IA_INSTALL_ROOT . "\x2f\167\x65\x62\57\143\157\155\155\157\156\57\x62\157\x6f\x74\163\x74\x72\141\160\56\x73\171\x73\x2e\x69\156\x63\56\x70\150\160"; goto LYeQC; PX_aB: @unlink(IA_INSTALL_ROOT . "\x2f\x64\x61\164\141\x2f\x64\142\x2e\154\157\x63\153"); goto L2dbd; LYeQC: $_W["\x75\151\144"] = $_W["\x69\163\146\x6f\165\156\x64\145\x72"] = 1; goto lzdNU; BlUR2: cache_build_module_subscribe_type(); goto Zo7Mu; gU3z1: we7_setcookie("\143\x68\x75\156\153\x5f\x74\157\164\x61\154", '', -10); goto vjO6S; aNsMA: load()->model("\143\141\143\x68\x65"); goto Zhlwd; tjScs: cache_build_users_struct(); goto BlUR2; NjtAi: load()->web("\x74\x65\x6d\x70\154\x61\x74\145"); goto KJLa3; jhkAK: @unlink(IA_INSTALL_ROOT . "\x2f\x69\x6e\151\164\56\x73\150"); goto OwtSU; DzmfR: FbrTZ: goto cGKhx; x0_Y1: cache_build_frame_menu(); goto vaEAT; Zo7Mu: return true; goto FPSW_; cpKD4: LlGxX: goto sLI6p; NAlqh: z4cZt: goto lB1I_; s9caO: define("\111\116\137\123\131\123", true); goto spjsL; cGKhx: $i++; goto ocxb7; G5zHN: $i = 1; goto NAlqh; KJLa3: load()->model("\x73\145\164\164\x69\x6e\x67"); goto aNsMA; L2dbd: @unlink(IA_INSTALL_ROOT . "\57\143\x6f\x6e\x73\x6f\x6c\x65\x2e\x70\x68\160"); goto jhkAK; IiUer: $chunk_num = we7_getcookie("\x63\x68\165\156\153\137\x74\157\x74\141\x6c"); goto WuJlE; vaEAT: cache_build_setting(); goto tjScs; WuJlE: @unlink("\x2e\57\x77\x65\x37\163\x6f\x75\x72\x63\x65\x2e\172\x69\x70"); goto G5zHN; wztVA: setting_upgrade_version(we7_getcookie("\151\155\163\137\x66\x61\x6d\151\x6c\x79"), IMS_VERSION, IMS_RELEASE_DATE); goto JKzVo; Zhlwd: load()->model("\x63\x6c\157\165\144"); goto wztVA; vjO6S: @unlink(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\57\144\x62\56\160\x68\160"); goto PX_aB; sLI6p: we7_setcookie("\160\141\x63\x6b\x61\147\145\x5f\155\144\x35", '', -10); goto gU3z1; spjsL: require IA_INSTALL_ROOT . "\x2f\x66\x72\141\x6d\x65\167\157\x72\153\57\142\157\157\x74\x73\x74\x72\141\x70\56\151\156\143\x2e\160\150\x70"; goto yHcpP; as065: we7_request_api(API_OAUTH_RESET_SITEINFO, array("\x75\x72\154" => $siteroot, "\151\x6e\x73\x74\x61\x6c\154" => 1)); goto x0_Y1; GDhTs: global $_W, $siteroot; goto IiUer; ocxb7: goto z4cZt; goto cpKD4; FPSW_: } goto Nfv4W; ozbZI: $verfile = IA_INSTALL_ROOT . "\x2f\x66\x72\x61\155\145\x77\x6f\x72\153\x2f\x76\x65\x72\163\151\x6f\x6e\x2e\151\156\143\x2e\160\x68\160"; goto O6OOr; Noqyc: w0Tlk: goto Req2b; RowpN: $ret["\141\163\160\137\164\x61\x67\x73"]["\x6e\x61\x6d\x65"] = "\141\x73\x70\x5f\164\x61\147\x73"; goto lYMTu; pzTYh: $server["\165\x70\154\157\141\x64"] = strtolower($server["\x75\x70\x6c\x6f\x61\x64"]); goto mwXsl; SYn2b: $sitename = trim($_POST["\163\x69\164\x65\x6e\141\155\145"]); goto JXR6U; I3cb_: XDjdb: goto mAfyw; M_1sz: fwrite($fh, $output); goto S47xs; G36Ea: if (!(is_array($data) && isset($data["\x65\162\x72\x6f\x72"]))) { goto BSF6b; } goto VNAx9; gSKdh: $ret["\x73\x65\x73\163\x69\157\156"]["\156\x61\155\145"] = "\x73\x65\x73\x73\x69\x6f\156\56\141\x75\x74\157\137\163\x74\x61\x72\x74\345\xbc\x80\345\x90\257"; goto o7Fsx; OsCtk: kTI_I: goto bgnTC; tdeYC: if (!(is_array($data) && isset($data["\145\x72\162\157\162"]))) { goto ht2ku; } goto qndbB; irPWd: iWzrn: goto tcjJf; Jc70v: HlxSo: goto de2gL; KnooI: $ret["\x76\145\x72\163\151\157\x6e"]["\146\x61\151\154\x65\144"] = true; goto WRZY2; YGpi8: exit(we7_error(420, $database_result)); goto JWEfm; mpL1o: define("\x41\x50\x49\137\117\x41\125\x54\x48\x5f\122\x45\123\105\124\137\123\x49\124\105\x49\116\x46\117", API_HOST . "\x2f\x73\151\164\145\x2f\162\x65\x67\x69\x73\164\145\x72\57\160\x72\157\146\151\154\145"); goto lGnLl; bAc2a: $ret["\156\145\x74\167\157\x72\153\137\x65\156\x61\x62\154\x65\x64"]["\162\145\x73\x75\x6c\164"] = "\345\xa4\226\xe7\275\221\xe4\270\215\345\217\257\xe8\xae\xbf\xe9\227\xae"; goto tq2of; wgpBH: gNqv1: goto OsCtk; t9EbH: GOLLO: goto inH4E; b1Ta1: if (!(empty($accesstoken) && $action != "\162\x65\x67\151\163\164\x65\x72\137\143\x61\x6c\x6c\142\141\x63\x6b")) { goto O5Qfk; } goto riwIu; zRAir: $chunk_total = we7_getcookie("\143\150\165\x6e\x6b\x5f\x74\x6f\x74\141\154"); goto SWT32; E13fz: function we7_error($num, $message = "\163\165\143\x63\x65\x73\163") { $num = intval($num); return json_encode(array("\x65\162\x72\156\157" => $num, "\144\x61\x74\x61" => $message)); } goto MAB3z; Dbxks: if (!($action == "\162\x65\147\x69\x73\x74\145\162\137\143\x61\x6c\x6c\142\141\143\x6b")) { goto XDjdb; } goto mVy2T; iXFZU: if (!($action == "\x64\x6f\167\x6e\x6c\157\x61\x64\137\x70\x65\x72\x63\145\x6e\164")) { goto MVCde; } goto sKeAE; mAfyw: header("\x63\x6f\156\x74\145\x6e\164\55\164\171\160\145\72\x74\145\170\164\x2f\150\164\155\154\x3b\x63\x68\141\x72\163\x65\x74\75\x75\x74\x66\x2d\x38"); goto Uk_0h; LPoUN: $ret["\163\145\163\163\151\x6f\156"]["\157\x6b"] = ini_get("\x73\x65\x73\x73\151\x6f\x6e\56\x61\x75\164\157\137\163\x74\141\162\x74"); goto lIACi; UpFez: exit(we7_error(400, "\346\234\xac\xe5\234\xb0\xe5\256\211\xe8\243\205\344\270\x8d\345\205\201\350\256\270\xe4\xbf\xae\xe6\x94\xb9\xe7\xab\231\xe7\x82\xb9\345\x90\215\xe7\xa7\xb0\56")); goto HQ2MQ; We3tY: $ret["\141\x73\160\x5f\164\141\147\x73"]["\x6f\153"] = ini_get("\141\x73\160\137\x74\x61\x67\x73"); goto PopXf; vi9d3: if (!($i <= $chunk_total)) { goto KuHXb; } goto vk8oQ; c5xTi: $user_result = we7_update_user($username, $password); goto x0XYm; WIF_q: $ret["\x64\x61\164\x61"]["\x6e\141\155\x65"] = "\144\x61\164\x61\347\233\256\xe5\275\x95\xe5\x86\231\345\205\xa5"; goto ZiKBu; t2Fas: $source_size = $header_array["\x43\x6f\156\x74\145\x6e\164\55\x4c\145\156\147\164\x68"]; goto V388r; c9owG: $callback = urlencode($url); goto avcXp; VNAx9: if ($data["\x65\x72\x72\157\x72"] == 401) { goto ReHSq; } goto ItKxj; YfT90: apTUi: goto wZ8D5; PsXB0: $ret["\x6e\145\164\167\x6f\162\x6b\x5f\145\x6e\x61\142\x6c\145\144"]["\156\x61\x6d\145"] = "\345\244\226\347\xbd\221\xe5\x8f\257\xe8\xae\277\351\x97\256\xe6\x80\247"; goto bAc2a; JEHhk: function we7_handle_chunk() { goto qdC6v; qdC6v: $tmpfile = "\56\x2f\x77\145\x37\x73\157\x75\x72\x63\x65\x2e\172\x69\x70"; goto k5tJj; k5tJj: $result = false; goto Jwpgv; Jwpgv: if (!file_exists($tmpfile)) { goto Gr3GU; } goto CzItu; cIi07: return $result; goto CRGFE; api0L: PoERN: goto i3lVf; yhQR6: $zip->extractTo(IA_INSTALL_ROOT); goto vvJa2; P1BNe: $res = $zip->open($tmpfile); goto Ywk70; i3lVf: Gr3GU: goto cIi07; Ywk70: if (!($res === TRUE)) { goto PoERN; } goto yhQR6; vUDX9: $result = true; goto api0L; CzItu: $zip = new ZipArchive(); goto P1BNe; vvJa2: $zip->close(); goto vUDX9; CRGFE: } goto bXL3s; F30h_: $ret["\x6e\x65\164\167\x6f\x72\153\137\145\x6e\141\142\154\145\144"]["\146\x61\x69\x6c\145\144"] = true; goto PsXB0; SLcwW: if (!(version_compare(PHP_VERSION, "\65\56\x33\56\60") == -1)) { goto jjVJr; } goto KnooI; h39XS: $db_username = trim($_POST["\x75\163\145\162\156\x61\x6d\x65"]); goto I4ILg; hl2p3: exit(we7_error(421, "\345\xae\x89\xe8\243\205\xe5\x8c\x85\344\xb8\x8d\xe5\256\214\xe6\x95\264\x2e")); goto zcMS7; JXR6U: $username = trim($_POST["\165\163\145\162\x6e\x61\x6d\x65"]); goto G64xr; Req2b: rdITr: goto W8VUU; LDHC9: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\141\164\141\x2f\x69\156\163\164\x61\154\x6c\56\x6c\157\x63\153") && !$registered_site && !$local_install)) { goto rRV8N; } goto uYn5u; q2Py9: exit(we7_error(400, $chunk_num)); goto ufkEh; SYkB1: foreach (we7_need_extension() as $extension) { goto cHqpP; ewVNo: $ret[$extension]["\156\141\155\145"] = $extension . "\346\211\251\345\261\x95"; goto ndAtR; cHqpP: $if_ok = extension_loaded($extension); goto VkFCT; BNl5p: Vww0v: goto DqXFg; zd0Om: $ret[$extension]["\x66\x61\x69\x6c\x65\144"] = true; goto ewVNo; VkFCT: if ($if_ok) { goto Vww0v; } goto zd0Om; DqXFg: cKOqP: goto iHYMH; ndAtR: $ret[$extension]["\x72\x65\x73\165\154\164"] = "\xe4\270\215\346\224\257\346\214\201" . $extension; goto BNl5p; iHYMH: } goto jAuSe; AaJYl: wB1Uq: goto mS0g5; bgnTC: if (!($action == "\151\x6e\163\x74\141\154\154")) { goto apTUi; } goto aQUcf; zSc8X: EFGTH: goto LDHC9; Dmrjb: if ($registered_site == 1) { goto Q1po4; } goto Hwtkz; qecHM: if (!($finished === true)) { goto rdITr; } goto Nm0PR; xH8Yy: goto Agaem; goto m1AMs; tc57r: $result = intval($download_size / $source_size * 100); goto jAIgK; ivc_3: $db_name = trim($_POST["\156\141\x6d\x65"]); goto YjAMN; HvqyT: set_time_limit(0); goto xRXJU; mVy2T: $post = file_get_contents("\160\150\x70\72\x2f\57\151\156\x70\x75\x74"); goto opixy; Sdi0u: function we7_getcookie($key) { goto ZY0bk; VZYjU: UUx1J: goto EnLHz; EnLHz: $key = COOKIE_PRE . $key; goto JjU9S; JjU9S: return $_COOKIE[$key]; goto LxbNr; EkYmU: return ''; goto VZYjU; ZY0bk: if (!empty($key)) { goto UUx1J; } goto EkYmU; LxbNr: } goto XERM7; xfvWt: exit; goto nGQsM; xPkmK: riT6S: goto ph5Ao; xOOn0: exit; goto xH8Yy; SsThl: if (!($action == "\157\x61\165\x74\150")) { goto wB1Uq; } goto vhf9r; NmQgH: $post = array("\141\143\143\145\163\x73\137\x74\x6f\x6b\145\156" => $accesstoken, "\143\150\x75\156\153" => $chunk_num); goto j8oVB; skX3S: we7_setcookie("\143\150\x75\156\153\x5f\x74\157\x74\141\154", $data["\143\x68\x75\x6e\153\x5f\164\157\x74\141\154"]); goto aoOpR; BJJuH: $ret["\x61\154\167\x61\x79\x73\137\x70\x6f\x70\165\x6c\141\x74\x65\x5f\162\141\167\137\x70\157\x73\x74\137\144\141\x74\x61"]["\x72\145\x73\x75\x6c\164"] = @ini_get("\141\154\x77\x61\x79\x73\137\x70\157\160\x75\154\141\164\145\137\162\x61\x77\x5f\x70\157\x73\164\137\144\141\x74\141"); goto C_ZwO; HRfwW: $fh = fopen("\56\x2f\167\x65\x37\163\x6f\165\x72\x63\145\56\x7a\151\160", "\x77\142"); goto xPkmK; U8p7G: if (!$local_install) { goto iNPBN; } goto UpFez; Y9W2x: if ($sitename_result) { goto iWzrn; } goto xfI4R; jPw1D: $ret["\144\x6f\x6d"]["\162\x65\163\x75\154\164"] = "\xe6\262\xa1\346\x9c\x89\345\x90\xaf\347\x94\250\x44\117\x4d\104\157\143\165\155\x65\x6e\x74"; goto yNE_g; yUGmS: require IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\x65\167\x6f\162\x6b\x2f\142\x6f\157\x74\163\164\162\141\160\56\151\x6e\x63\x2e\160\x68\160"; goto VsR6N; ZiKBu: $ret["\x64\x61\164\x61"]["\162\x65\x73\x75\154\164"] = "\144\141\x74\141\347\233\xae\345\xbd\225\346\x97\240\346\263\x95\xe5\206\231\xe5\x85\245"; goto uNyi3; pkGpi: define("\x43\117\x4f\113\111\105\x5f\120\x52\105", "\x77\x65\x37\x69\156\163\164\141\x6c\x6c\137"); goto SAUBe; GM9Fm: exit(we7_error(434, $result)); goto vuT2d; M2igE: define("\101\120\111\x5f\107\x45\124\137\120\101\x43\x4b\x41\107\x45\137\115\104\x35\x5f\101\116\x44\137\103\110\x55\x4e\113\x54\x4f\124\101\x4c", API_HOST . "\x2f\x75\164\x69\x6c\57\x70\141\x63\x6b\x61\147\x65\x2f\x69\x6e\163\x74\x61\x6c\x6c"); goto tTb74; tcjJf: uwi_e: goto XSCAg; oJHNj: EXhl8: goto SLcwW; LrH5E: header("\x4c\157\143\x61\x74\151\x6f\x6e\x3a\40" . $forward); goto pwsoL; tpX65: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\x75\x72\x6c" => $siteroot)); goto OXCuc; dGwFH: $result = file_put_contents("\x2e\x2f\x63\x68\165\156\x6b\x5f" . $chunk_num, $data); goto OAdY9; IfOoC: Qd3IH: goto gpGfB; Dsz3u: we7_handle_chunk(); goto tZJhQ; f9WVK: BSF6b: goto JFIqE; n71z1: exit(we7_error(0, $chunk_num)); goto uVX6X; Q9k2Y: $url = $siteroot . "\57\151\x6e\163\164\x61\154\x6c\x2e\x70\150\x70\77\x73\164\x65\x70\75\157\x61\x75\164\150"; goto c9owG; QeFgM: $action = in_array($action, $actions) ? $action : ''; goto FiJ7B; D1dp_: $output = fread($hostfile, 8192); goto M_1sz; D4dSe: $ret["\162\x6f\x6f\x74"]["\x66\x61\151\154\145\x64"] = true; goto p2Pms; KvKik: $action = "\157\x61\x75\x74\150"; goto A0Byd; uNyi3: hcL7w: goto SYkB1; S47xs: goto dT1ap; goto ERCdG; bXL3s: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto PgpeH; Fqrge: local_mkdirs(IA_INSTALL_ROOT . "\57\x64\x61\164\141"); goto CapdJ; CuB97: return $error; goto zE2fh; pYCe9: if (empty($error)) { goto CtDLi; } goto CuB97; k67XW: return false; goto xyoGq; zE2fh: CtDLi: goto yE5vt; Q5cSK: $cookiepre = local_salt(4) . "\x5f"; goto YuaeK; KBTW0: try { goto qvpxa; zUT1y: $statement = $link->query("\123\x48\117\127\x20\104\x41\124\x41\x42\x41\123\x45\123\40\114\111\x4b\105\x20\x27{$db["\x6e\x61\x6d\x65"]}\47\73"); goto aw4s1; qvpxa: $link = new PDO("\155\171\163\x71\x6c\72\x68\x6f\x73\164\x3d{$db["\163\145\x72\x76\145\x72"]}\x3b\160\x6f\162\164\75{$db["\x70\157\162\x74"]}", $db["\x75\x73\145\162\x6e\x61\155\x65"], $db["\x70\141\163\163\x77\x6f\x72\x64"]); goto VYx08; d8Nx0: $link->query("\x43\122\x45\101\x54\105\40\104\101\124\x41\x42\101\123\x45\40\x49\106\x20\x4e\x4f\x54\x20\105\x58\111\x53\124\123\40\x60{$db["\x6e\141\x6d\145"]}\140\40\104\105\x46\x41\125\114\x54\40\x43\x48\x41\122\101\x43\124\x45\x52\x20\x53\105\x54\40\x75\164\146\x38"); goto UIN89; fJG17: $link->exec("\x53\x45\124\40\x73\x71\x6c\137\155\157\144\145\x3d\x27\x27"); goto P2KlZ; LGrWv: goto f3zyZ; goto Yv2CQ; jahRL: $error .= $errorInfo[2]; goto m3Pur; yqxif: $error = "\xe6\x95\xb0\346\x8d\256\xe5\xba\x93\344\xb8\215\345\xad\230\xe5\x9c\xa8\xe4\xb8\x94\345\210\x9b\xe5\273\xba\xe6\x95\xb0\346\x8d\256\xe5\xba\x93\345\244\xb1\xe8\xb4\245\56"; goto jaYdh; mJuP5: if (!$statement->fetch()) { goto hFn8D; } goto S1B7V; HcRPI: if (!($link->errorCode() != "\60\60\60\60\x30")) { goto gRXl6; } goto yOR01; SQh1G: cvchx: goto K9lLf; EZqpD: $error = $errorInfo[2]; goto hsNO1; K9lLf: $errorInfo = $link->errorInfo(); goto EZqpD; oLRkg: BzhNV: goto A9BKP; ewHLa: $link->exec("\125\x53\x45\x20{$db["\156\141\x6d\x65"]}"); goto oveFs; UIN89: f3zyZ: goto oLRkg; jaYdh: c7JJx: goto HcRPI; Yv2CQ: A3T0m: goto d8Nx0; m3Pur: gRXl6: goto TOT4e; T0WgO: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\64\x2e\x31") { goto A3T0m; } goto fuQUP; yOR01: $errorInfo = $link->errorInfo(); goto jahRL; VYx08: $link->exec("\123\105\124\40\143\150\141\x72\x61\143\x74\145\162\x5f\163\145\x74\137\x63\x6f\x6e\156\x65\143\x74\x69\157\156\75\x75\x74\x66\70\54\40\143\x68\141\x72\x61\143\164\145\162\137\163\145\x74\137\162\x65\x73\165\154\164\x73\75\x75\x74\x66\70\54\40\143\x68\141\162\x61\x63\164\145\162\x5f\x73\145\x74\137\143\x6c\151\x65\156\164\x3d\142\151\156\141\162\171"); goto fJG17; jmjif: if (!empty($fetch)) { goto c7JJx; } goto yqxif; oveFs: $statement = $link->query("\x53\x48\117\x57\x20\x54\x41\102\x4c\105\x53\x20\x4c\x49\x4b\105\x20\x27{$db["\x70\162\x65\146\151\x78"]}\45\47\73"); goto mJuP5; A9BKP: $statement = $link->query("\123\x48\117\x57\x20\x44\x41\x54\x41\102\101\123\105\x53\x20\114\x49\x4b\x45\40\x27{$db["\x6e\x61\x6d\x65"]}\x27\73"); goto pRQnH; P2KlZ: if ($link->errorCode() != "\60\60\60\60\x30") { goto cvchx; } goto zUT1y; y7FRg: hFn8D: goto Osn5v; TOT4e: goto cvT3D; goto SQh1G; aw4s1: $fetch = $statement->fetch(); goto MtYhY; hsNO1: cvT3D: goto ewHLa; fuQUP: $link->query("\x43\x52\x45\101\x54\x45\40\x44\x41\x54\101\102\x41\x53\x45\40\x49\x46\40\116\117\x54\x20\105\130\x49\x53\x54\123\x20\140{$db["\156\141\x6d\x65"]}\x60"); goto LGrWv; S1B7V: return "\346\202\250\347\232\x84\xe6\x95\xb0\xe6\x8d\xae\xe5\xba\x93\xe4\xb8\x8d\xe4\xb8\xba\347\251\xba\357\274\214\xe8\257\267\xe9\x87\215\346\226\260\345\273\272\xe7\253\x8b\346\225\xb0\xe6\x8d\xae\xe5\xba\x93\xe6\210\x96\346\230\xaf\xe6\270\x85\xe7\xa9\xba\xe8\257\245\346\225\260\xe6\x8d\xae\345\xba\223\xe6\210\226\346\x9b\264\346\224\xb9\xe8\xa1\xa8\345\x89\x8d\347\274\x80\357\xbc\201"; goto y7FRg; MtYhY: if (!empty($fetch)) { goto BzhNV; } goto T0WgO; pRQnH: $fetch = $statement->fetch(); goto jmjif; Osn5v: } catch (PDOException $e) { goto bNMmG; T99Za: $error = iconv("\147\x62\x6b", "\165\164\x66\70", $error); goto AVt9D; scXHU: $error = "\346\202\xa8\xe7\x9a\204\xe6\225\260\346\x8d\256\345\272\x93\350\xae\277\351\227\xae\xe7\x94\250\xe6\x88\267\xe5\x90\x8d\346\x88\x96\346\230\257\xe5\257\x86\347\xa0\x81\351\224\231\xe8\257\xaf\x2e"; goto z2jUM; fMgLw: ZJXtD: goto scXHU; z2jUM: AO3Sj: goto vlnB3; Vd4ud: if (strpos($error, "\x41\x63\143\145\x73\x73\x20\x64\145\x6e\151\x65\x64\40\146\x6f\x72\40\x75\x73\x65\162") !== false) { goto ZJXtD; } goto T99Za; bNMmG: $error = $e->getMessage(); goto Vd4ud; AVt9D: goto AO3Sj; goto fMgLw; vlnB3: } goto pYCe9; nG0gO: $pieces = explode("\72", $server); goto NHGCq; xyoGq: BQS6c: goto nG0gO; yE5vt: $config = local_config(); goto Q5cSK; a9pBv: $config = str_replace(array("\x7b\x64\142\x2d\163\x65\162\x76\x65\x72\x7d", "\x7b\144\x62\55\165\163\x65\x72\x6e\141\x6d\x65\x7d", "\x7b\x64\142\x2d\160\141\x73\163\167\x6f\162\x64\x7d", "\x7b\144\x62\55\160\x6f\162\164\x7d", "\x7b\x64\142\55\x6e\141\x6d\x65\175", "\x7b\144\142\55\164\141\x62\154\145\x70\162\145\x7d", "\173\143\157\157\153\151\x65\160\162\145\175", "\x7b\x61\x75\x74\150\x6b\145\x79\x7d", "\173\141\164\164\x61\143\x68\x64\151\x72\x7d"), array($db["\x73\145\x72\x76\x65\162"], $db["\165\x73\x65\x72\156\141\155\x65"], $db["\x70\141\163\163\x77\157\x72\x64"], $db["\x70\x6f\x72\x74"], $db["\156\141\x6d\x65"], $db["\x70\162\145\146\x69\170"], $cookiepre, $authkey, "\x61\x74\164\141\143\x68\x6d\145\156\164"), $config); goto Fqrge; YuaeK: $authkey = local_salt(8); goto a9pBv; NHGCq: $db = array("\163\x65\162\166\x65\x72" => $pieces[0] == "\61\62\x37\56\60\x2e\x30\x2e\61" ? "\x6c\x6f\143\x61\154\150\157\163\164" : $pieces[0], "\160\x6f\x72\x74" => !empty($pieces[1]) ? $pieces[1] : "\x33\x33\60\x36", "\x75\x73\145\162\156\x61\x6d\145" => $db_username, "\x70\141\x73\x73\x77\x6f\162\x64" => $db_password, "\160\162\145\x66\151\170" => $db_prefix, "\156\x61\x6d\x65" => $db_name); goto KBTW0; CapdJ: $result = file_put_contents(IA_INSTALL_ROOT . "\57\x64\x61\164\x61\x2f\143\157\x6e\x66\x69\x67\x2e\160\150\x70", $config); goto pVQKR; PgpeH: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto BQS6c; } goto k67XW; pVQKR: return $result !== false ? true : false; goto NDo0H; NDo0H: } goto bONmx; vMf76: exit(we7_error(419, $database_result)); goto yef1d; nGQsM: tnJpO: goto AYIbv; ENf5e: function local_writeable($dir) { goto MmkU1; gA6fe: FxePZ: goto wg9Bl; PsSH4: Q1HJr: goto TWByR; z9UEs: tREAM: goto PsSH4; ejnzY: unlink("{$dir}\x2f\x74\145\x73\164\56\164\x78\164"); goto n3Sgk; OsAW3: $writeable = 0; goto Jvu89; DEhAk: @mkdir($dir, 0777); goto B7PUF; TWByR: return $writeable; goto L5c6e; MmkU1: $writeable = 0; goto CAvNj; B7PUF: vdFQF: goto sa1DU; n3Sgk: $writeable = 1; goto z9UEs; CAvNj: if (is_dir($dir)) { goto vdFQF; } goto DEhAk; Jvu89: goto tREAM; goto gA6fe; xiHR8: if ($fp = fopen("{$dir}\57\x74\x65\x73\164\56\164\x78\164", "\x77")) { goto FxePZ; } goto OsAW3; wg9Bl: fclose($fp); goto ejnzY; sa1DU: if (!is_dir($dir)) { goto Q1HJr; } goto xiHR8; L5c6e: } goto hODLn; yoRkj: exit(we7_error(400, "\x63\x68\x75\x6e\x6b\345\244\247\xe4\272\216\346\x9c\200\345\xa4\xa7\345\x80\xbc")); goto k2cR1; nXhPV: if (!empty($source_size)) { goto bp0Op; } goto m3UBJ; AQtDA: $chunk_num = max(1, intval($_POST["\x63\x68\165\156\x6b"])); goto zRAir; vUjUT: $fh = fopen("\x2e\57\x77\145\67\163\157\x75\162\143\145\x2e\x7a\151\x70", "\167\142"); goto WfAVX; GpqAs: if (file_exists(IA_INSTALL_ROOT . "\57\144\x61\x74\141\x2f\144\142\x2e\x6c\157\143\153")) { goto EFGTH; } goto OKS88; KZXCr: $ret["\165\160\x6c\x6f\x61\x64"]["\x66\x61\x69\x6c\x65\x64"] = true; goto A5zxu; sKeAE: clearstatcache(); goto oPhXz; riGAQ: OPfEE: goto dWdpn; zKqU1: goto o8SJU; goto XYSHB; Nfv4W: function we7_http_request($url, $post = array()) { goto uOBck; n4Fy4: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto DFi8K; NVO_V: curl_setopt($ch, CURLOPT_POST, 1); goto lwsd7; l9BHc: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto Bd6dw; D0k_K: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto m0ePQ; Q3Xq_: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\x48\x54\x54\x50\137\x55\123\x45\122\x5f\x41\x47\105\116\x54"]); goto Llsth; g1bV4: return array("\x65\x72\162\x6e\x6f" => $errno, "\x65\x72\162\157\162" => $error); goto sc6uQ; m0ePQ: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto hKxt_; SbNYV: Ds8uz: goto n4Fy4; DsFg2: $error = curl_error($ch); goto H6kyg; IGVdS: $errno = curl_errno($ch); goto DsFg2; rkvJk: AhCrU: goto g1bV4; MoWUr: if (!$post) { goto Ds8uz; } goto NVO_V; thau2: if ($errno || empty($data)) { goto AhCrU; } goto N9C73; sc6uQ: nRrhY: goto D4fjw; H6kyg: curl_close($ch); goto thau2; hKxt_: curl_setopt($ch, CURLOPT_HEADER, 1); goto MoWUr; G3qJm: goto nRrhY; goto rkvJk; DFi8K: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto l9BHc; Llsth: $data = curl_exec($ch); goto IGVdS; iNy76: curl_setopt($ch, CURLOPT_URL, $url); goto D0k_K; pK0BK: curl_setopt($ch, CURLOPT_HTTPHEADER, array("\130\55\125\163\x65\x72\55\111\x70\x3a" . get_client_ip())); goto SbNYV; Bd6dw: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto Q3Xq_; uOBck: $ch = curl_init(); goto iNy76; N9C73: return we7_http_response_parse($data); goto G3qJm; lwsd7: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto pK0BK; D4fjw: } goto qmy8k; ObQGq: function we7_register_site() { goto RtTrb; ZMXS_: if (is_array($data) && isset($data["\x65\162\162\157\162"])) { goto ei3G6; } goto BUWDR; RFB_F: require IA_INSTALL_ROOT . "\x2f\146\x72\141\x6d\145\167\x6f\x72\153\57\x76\x65\162\x73\151\x6f\156\x2e\x69\156\143\x2e\x70\x68\160"; goto qC_8Y; HZceg: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto ZMXS_; RDtMu: pgO8R: goto KKDZJ; u_XFK: $post = array("\x61\143\x63\145\x73\163\137\x74\x6f\x6b\145\156" => $accesstoken, "\156\x61\x6d\145" => $siteroot . "\xe7\x9a\204\xe7\xab\231\xe7\202\271", "\x75\x72\x6c" => $siteroot, "\166\145\162\163\x69\x6f\x6e" => $version, "\x72\x65\x6c\145\x61\163\145" => $release, "\143\x61\x6c\154\x62\x61\x63\153" => $callback, "\151\156\x73\164\x61\154\x6c\x5f\164\171\x70\x65" => 1); goto HZceg; R0F85: goto pgO8R; goto K9tH4; XIQ5S: $callback = urlencode($siteroot . "\x2f\151\156\163\164\141\154\154\56\160\x68\160\77\163\164\x65\160\75\x72\145\x67\151\163\164\145\162\137\143\141\154\x6c\x62\x61\x63\153"); goto u_XFK; K9tH4: ei3G6: goto ZNdiE; qC_8Y: $version = IMS_VERSION; goto RlnuW; nbPhT: define("\x49\116\137\111\x41", true); goto RFB_F; RtTrb: global $siteroot, $accesstoken; goto nbPhT; BUWDR: return true; goto R0F85; ZNdiE: return $data["\x65\162\162\x6f\162"]; goto RDtMu; RlnuW: $release = IMS_RELEASE_DATE; goto XIQ5S; KKDZJ: } goto qXjqC; XYSHB: KuHXb: goto qecHM; BMy75: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\x6f\144\145" => $code)); goto tfnpI; TWbYz: yknXa: goto U7its; wH8kq: Adz40: goto We3tY; Ib333: if (!(version_compare(PHP_VERSION, "\67\x2e\x30\56\60") == -1 && version_compare(PHP_VERSION, "\65\x2e\x36\x2e\x30") >= 0)) { goto NLKhr; } goto N2lIR; vhf9r: $code = trim($_GET["\143\157\x64\x65"]); goto JS6I9; qiy6m: function we7_get_accesstoken() { goto iQEzt; D88Sy: return $accesstoken["\x61\x63\143\x65\163\163\x54\x6f\153\x65\x6e"]; goto cRbEc; r9fJY: return ''; goto nJfn1; fca50: $accesstoken = json_decode($cookie_accesstoken, true); goto qvTE1; qvTE1: if (!(!empty($accesstoken) && !empty($accesstoken["\141\x63\x63\x65\x73\163\124\x6f\153\x65\x6e"]) && $accesstoken["\x65\170\160\151\x72\x65\x54\x69\155\145"] > time())) { goto r12su; } goto D88Sy; iQEzt: $cookie_accesstoken = we7_getcookie("\x61\x63\143\x65\163\x73\164\x6f\x6b\145\x6e"); goto fca50; cRbEc: r12su: goto r9fJY; nJfn1: } goto JEHhk; wySSt: ht2ku: goto YhBKY; w8GQF: if (!($action == "\143\150\x75\x6e\153\x74\x6f\x74\141\154")) { goto Q3WXN; } goto EKMaG; WL8hO: rRV8N: goto Gf0o7; O6OOr: $dbfile = IA_INSTALL_ROOT . "\x2f\144\141\x74\x61\x2f\x64\x62\x2e\160\x68\160"; goto MBwRB; dQpAS: $hostfile = fopen($cdn_source_file, "\162\142"); goto HRfwW; fEiXT: $ret["\x76\145\162\x73\151\157\x6e"]["\162\145\163\x75\x6c\x74"] = PHP_VERSION; goto Dizmz; F7FJd: IKY23: goto I0XKx; A5zxu: $ret["\x75\160\x6c\x6f\141\144"]["\x6e\141\x6d\145"] = "\xe4\270\212\xe4\xbc\240\351\231\220\xe5\210\266"; goto y4A6z; Amd7s: if ($ret["\144\x6f\x6d"]["\x6f\153"]) { goto cvVnC; } goto qUeNk; E7qRG: function local_create_sql($schema, $local_create_sql) { goto j0HPb; COjgo: $sql = rtrim($sql); goto xrzPZ; xrzPZ: $sql = rtrim($sql, "\54"); goto Z_5Qg; noJf_: $charset = $pieces[0]; goto S__OQ; ZI6s1: $sql = "\103\x52\105\101\124\105\x20\124\x41\x42\x4c\x45\40\111\x46\x20\116\x4f\x54\x20\105\x58\111\x53\124\123\x20\x60{$schema["\164\141\142\154\145\x6e\141\x6d\145"]}\x60\40\x28\12"; goto R5XSh; Z_5Qg: $sql .= "\xa\x29\x20\x45\x4e\107\x49\116\x45\x3d{$engine}\x20\x44\x45\106\101\x55\114\124\x20\x43\110\x41\x52\123\105\124\x3d{$charset}\73\12\xa"; goto p7ylj; p7ylj: return $sql; goto c7Ue_; S__OQ: $engine = $local_create_sql ? $schema["\x65\156\147\x69\156\x65"] : "\115\x79\x49\x53\x41\115"; goto ZI6s1; e3y6U: foreach ($schema["\x69\156\144\145\170\x65\x73"] as $value) { goto xtYNB; pZ573: DZrEH: goto ez_22; ez_22: if (!($value["\164\171\160\x65"] == "\165\x6e\x69\161\x75\x65")) { goto Ny1PL; } goto Qs2Cx; P9TWJ: if (!($value["\164\x79\160\145"] == "\x70\162\x69\155\141\x72\171")) { goto vdlHp; } goto UAPrR; vILd0: $sql .= "\x4b\105\x59\x20\140{$value["\x6e\x61\x6d\145"]}\140\x20\x28\140{$fields}\140\x29\x2c\xa"; goto pZ573; RzhIr: if (!($value["\x74\171\x70\x65"] == "\151\156\x64\x65\170")) { goto DZrEH; } goto vILd0; NfDie: Ny1PL: goto P9TWJ; ZyEoQ: ZbAqS: goto xCtkU; xtYNB: $fields = implode("\140\x2c\140", $value["\146\151\x65\154\x64\163"]); goto RzhIr; Qs2Cx: $sql .= "\x55\x4e\111\x51\125\105\40\113\x45\x59\x20\x60{$value["\x6e\141\155\x65"]}\x60\x20\x28\x60{$fields}\140\51\x2c\xa"; goto NfDie; HEMiG: vdlHp: goto ZyEoQ; UAPrR: $sql .= "\x50\122\x49\x4d\101\x52\131\x20\x4b\105\x59\40\x28\140{$fields}\x60\51\x2c\12"; goto HEMiG; xCtkU: } goto tp86s; j0HPb: $pieces = explode("\x5f", $schema["\143\x68\x61\x72\163\145\x74"]); goto noJf_; R3NrW: LDLAx: goto e3y6U; R5XSh: foreach ($schema["\146\151\x65\x6c\x64\163"] as $value) { goto L_BV2; gLGvd: $default = "\x20\104\x45\x46\x41\125\x4c\124\40\x27" . $value["\144\x65\x66\x61\x75\154\x74"] . "\x27"; goto mFtpq; FAnvE: $increment = "\x20\x41\x55\x54\117\x5f\111\116\103\122\x45\115\105\116\124"; goto hh0on; uWW8d: rYX4P: goto mZWuz; sOMXq: if ($value["\151\x6e\143\162\x65\155\145\156\x74"]) { goto buGzZ; } goto HrbqW; Qg1Hi: $null = ''; goto jB1Ry; mdqBo: goto eIRsc; goto TSXyH; Sg7ZA: goto oydZm; goto uWW8d; L_BV2: if (!empty($value["\x6c\x65\x6e\x67\x74\x68"])) { goto rYX4P; } goto i9E_t; lLjDd: $null = "\x20\x4e\117\124\x20\x4e\x55\114\x4c"; goto Ytzbb; I_CLX: goto yJ3RY; goto KCyRN; TSXyH: buGzZ: goto FAnvE; YHtM8: $default = ''; goto I_CLX; o1KJf: $signed = empty($value["\x73\151\147\156\145\144"]) ? "\40\165\156\x73\151\x67\156\x65\144" : ''; goto VZxE5; mZWuz: $length = "\50{$value["\154\x65\x6e\x67\164\150"]}\51"; goto jKDoB; xULeG: if (isset($value["\x64\145\146\141\165\154\x74"])) { goto mDLCt; } goto YHtM8; LRow2: $sql .= "\140{$value["\x6e\x61\x6d\x65"]}\140\x20{$value["\164\x79\x70\145"]}{$length}{$signed}{$null}{$default}{$increment}\x2c\12"; goto DqpRm; i9E_t: $length = ''; goto Sg7ZA; hh0on: eIRsc: goto LRow2; KCyRN: mDLCt: goto gLGvd; mFtpq: yJ3RY: goto sOMXq; iKzAc: kU6jb: goto lLjDd; VZxE5: if (empty($value["\x6e\x75\x6c\154"])) { goto kU6jb; } goto Qg1Hi; HrbqW: $increment = ''; goto mdqBo; jB1Ry: goto TqZVi; goto iKzAc; Ytzbb: TqZVi: goto xULeG; DqpRm: M_ywi: goto gy1fP; jKDoB: oydZm: goto o1KJf; gy1fP: } goto R3NrW; tp86s: Patsc: goto COjgo; c7Ue_: } goto SwIIv; g_WXq: if (is_array($data) && isset($data["\x65\162\x72\157\162"])) { goto bR6tq; } goto T172B; B7lpk: FJULU: goto PuFxx; YwKft: MVCde: goto BkBLq; YhBKY: $forward = $data["\x75\162\x6c"]; goto LrH5E; lHJzY: rename("\151\156\x73\x74\141\x6c\154\x2e\x70\150\x70", "\x69\156\163\164\x61\x6c\154\x2e\x70\150\x70\56\x62\141\153"); goto oHTgR; SX4cq: define("\x41\x50\x49\x5f\x4f\x41\125\124\110\x5f\x4c\x4f\107\x49\x4e\x5f\x55\122\114", API_HOST . "\x2f\157\141\165\x74\x68\57\154\x6f\147\x69\x6e\x2d\x75\x72\x6c\x2f\151\156\x64\145\170"); goto g8tqO; Te_DA: define("\x41\120\111\x5f\123\111\124\105\137\122\x45\x47\111\x53\x54\x45\122\137\x45\x58\x49\x53\124", API_HOST . "\57\x73\x69\164\145\x2f\x72\145\x67\151\163\x74\x65\162\x2f\x65\x78\151\x73\164"); goto SX4cq; VsR6N: $site = array("\x6b\145\171" => $auth["\153\145\171"], "\x74\157\153\145\x6e" => $auth["\164\x6f\x6b\x65\x6e"], "\x75\x72\154" => $siteroot); goto tRobI; TBllE: function local_mkdirs($path) { goto ZLdLM; ZLdLM: if (is_dir($path)) { goto DcuGm; } goto EkBDr; ZyR9Z: return is_dir($path); goto liaPi; NmbWV: mkdir($path); goto snvp1; snvp1: DcuGm: goto ZyR9Z; EkBDr: local_mkdirs(dirname($path)); goto NmbWV; liaPi: } goto FQxpa; mlHCz: SQ7M7: goto GDfeE; YjAMN: $db_prefix = trim($_POST["\160\x72\x65\x66\x69\170"]); goto MpMnA; JS6I9: if (empty($code)) { goto LVLfn; } goto BMy75; qmy8k: function we7_http_response_parse($data) { goto Aw671; XP_NJ: foreach ($header as $v) { goto peeLb; QoA6q: $rlt["\x68\145\x61\144\145\x72\x73"][$key][] = $value; goto RbXMs; xBSyi: LW2D6: goto g6TPi; ysXDH: $rlt["\x68\145\141\x64\145\162\163"][$key][] = $value; goto xBSyi; aj8xH: goto LW2D6; goto wH62V; FvA88: xexys: goto B6IlZ; RbXMs: goto LW2D6; goto wwHqL; pAGO7: unset($rlt["\x68\x65\141\144\x65\x72\x73"][$key]); goto Nr96R; wH62V: p_pP3: goto QoA6q; BycBf: xxMbR: goto FvA88; Nr96R: $rlt["\x68\x65\141\144\x65\162\163"][$key][] = $temp; goto ysXDH; AQFDY: $rlt["\150\x65\141\144\145\162\163"][$key] = $value; goto aj8xH; peeLb: $pos = strpos($v, "\x3a"); goto Pf0Qy; txKyY: $value = trim(substr($v, $pos + 1)); goto Q8tOS; dmoaU: $temp = $rlt["\150\145\141\144\145\162\x73"][$key]; goto pAGO7; m__bC: $isgzip = true; goto BycBf; Q8tOS: if (is_array($rlt["\x68\145\x61\144\x65\x72\163"][$key])) { goto p_pP3; } goto Q042d; Q042d: if (!empty($rlt["\x68\x65\141\144\145\162\x73"][$key])) { goto ZcF26; } goto AQFDY; g6TPi: if (!(!$isgzip && strtolower($key) == "\x63\x6f\x6e\x74\145\x6e\x74\55\x65\156\143\157\144\x69\x6e\x67" && strtolower($value) == "\x67\172\x69\x70")) { goto xxMbR; } goto m__bC; Pf0Qy: $key = substr($v, 0, $pos); goto txKyY; wwHqL: ZcF26: goto dmoaU; B6IlZ: } goto F4ogE; v2oMK: $rlt["\x73\x74\141\x74\x75\163"] = !empty($matches[3]) ? $matches[3] : "\x4f\x4b"; goto M8y2C; b7xUA: $split1[0] = substr($data, 0, $pos); goto S70TU; jDtEB: $rlt["\x63\157\x6e\x74\x65\x6e\x74"] = $split1[1]; goto JXB0F; m2nZT: $split2 = explode("\xd\xa", $split1[0], 2); goto m4nyd; cqk3j: return $rlt; goto N1dI3; IjoB9: $header = explode("\15\xa", $split2[1]); goto IWlNv; Qqo2O: $rlt["\x6d\145\x74\x61"] = $data; goto N6jJg; tzQ7V: $rlt["\x63\157\144\145"] = !empty($matches[2]) ? $matches[2] : 200; goto v2oMK; F4ogE: LOS8N: goto jDtEB; N6jJg: if (!($rlt["\143\157\x64\145"] == "\61\60\x30")) { goto jl1iJ; } goto FuiLu; Iwr1h: $pos = strpos($data, "\15\xa\15\xa"); goto b7xUA; IWlNv: $isgzip = false; goto XP_NJ; S70TU: $split1[1] = substr($data, $pos + 4, strlen($data)); goto m2nZT; JXB0F: if (!($isgzip && function_exists("\x67\x7a\144\x65\x63\x6f\144\x65"))) { goto U7qOZ; } goto rrSp1; m4nyd: preg_match("\x2f\136\x28\134\123\x2b\x29\40\x28\134\123\53\51\40\50\56\52\x29\x24\x2f", $split2[0], $matches); goto tzQ7V; FuiLu: return we7_http_response_parse($rlt["\x63\x6f\x6e\164\145\156\x74"]); goto ceGtO; tA91l: U7qOZ: goto Qqo2O; ceGtO: jl1iJ: goto cqk3j; rrSp1: $rlt["\x63\157\x6e\x74\x65\156\x74"] = gzdecode($rlt["\143\x6f\x6e\x74\145\156\x74"]); goto tA91l; M8y2C: $rlt["\x72\x65\x73\x70\157\x6e\x73\x65\154\151\156\x65"] = !empty($split2[0]) ? $split2[0] : ''; goto IjoB9; Aw671: $rlt = array(); goto Iwr1h; N1dI3: } goto lYiHY; gKEpw: function we7_network_enable($host) { goto z2Mq6; YTgoU: return true; goto QwtGV; Aea_5: return false; goto PKVDb; jFQ8f: return false; goto v1rGA; XeUwM: if ($httphost_is_ip) { goto uFxDw; } goto iU8iV; LkPRf: if (!$if_local_network172) { goto mtrRk; } goto cyNDy; iU8iV: $dns_record = dns_get_record($host, DNS_A); goto akACT; bpr2b: return false; goto AyUYB; akACT: if (!(empty($dns_record) || empty($dns_record[0]["\151\x70"]) || $dns_record[0]["\x69\x70"] == "\61\x32\67\x2e\x30\56\60\x2e\61" || strpos($dns_record[0]["\151\160"], "\61\60\56") === 0)) { goto xAPff; } goto bpr2b; dKoR6: if (!$if_local_network10) { goto FJUox; } goto FoAna; v1rGA: wLbJ5: goto DKfmH; zRnTM: $if_local_network172 = preg_match("\x2f\x5e\61\x37\62\134\56\x28\x31\x5b\66\x2d\71\135\174\x32\x5b\60\x2d\x39\x5d\174\x33\x5b\x30\x2d\x31\x5d\x29\x5c\x2e\x28\61\134\x64\173\62\x7d\174\x32\x5b\x30\55\64\135\x5c\144\x7c\x32\65\133\x30\55\x35\x5d\174\133\x31\x2d\71\x5d\x5c\x64\x7c\134\x64\51\134\x2e\x28\61\134\144\173\62\175\x7c\x32\133\x30\x2d\64\x5d\134\x64\174\x32\65\133\x30\55\x35\135\174\133\x31\x2d\71\135\x5c\144\x7c\134\x64\x29\x24\x2f", $host); goto BOnC2; ZobCR: LWnGu: goto Qp9S_; AyUYB: xAPff: goto AStjL; qAuKP: if (!$if_local_network192) { goto LWnGu; } goto RGxZt; Qp9S_: B_y5k: goto YTgoU; vkP9j: $if_local_network192 = preg_match("\x2f\136\61\x39\x32\134\x2e\61\66\x38\x5c\x2e\50\61\x5c\x64\x7b\62\x7d\x7c\x32\133\60\55\x34\x5d\134\144\174\x32\x35\x5b\x30\x2d\65\135\x7c\x5b\x31\55\x39\135\134\x64\x7c\x5c\144\x29\x5c\x2e\50\x31\134\x64\173\62\175\x7c\x32\133\60\55\64\135\134\144\174\x32\65\133\x30\x2d\65\135\x7c\133\61\55\x39\135\134\x64\174\134\x64\x29\44\57", $host); goto qAuKP; IcV8W: dlJfi: goto YmQex; cyNDy: return false; goto D264x; FoAna: return false; goto LI3D_; m3G1Q: uFxDw: goto mpUwy; PKVDb: eXgKR: goto vkP9j; AStjL: $if_local_network172 = preg_match("\57\136\61\x37\x32\134\56\50\61\133\66\x2d\x39\135\174\x32\x5b\x30\x2d\71\135\x7c\x33\x5b\60\x2d\61\135\51\134\56\50\61\134\144\173\x32\175\x7c\62\x5b\60\55\64\x5d\x5c\x64\x7c\62\x35\133\60\55\65\x5d\x7c\x5b\x31\x2d\71\x5d\134\144\174\134\x64\51\134\x2e\50\x31\134\x64\173\62\x7d\174\62\x5b\x30\x2d\x34\x5d\134\144\x7c\62\65\133\x30\55\65\135\x7c\133\x31\55\x39\135\x5c\144\x7c\x5c\144\x29\x24\x2f", $dns_record[0]["\x69\160"]); goto LkPRf; DKfmH: $httphost_is_ip = preg_match("\57\136\50\61\134\x64\x7b\x32\175\x7c\x32\133\x30\x2d\64\x5d\x5c\144\174\62\65\133\60\x2d\65\x5d\x7c\133\x31\55\x39\135\x5c\x64\x7c\x5b\61\x2d\x39\135\x29\x5c\x2e\x28\61\134\144\x7b\x32\x7d\x7c\62\x5b\x30\x2d\x34\135\134\144\x7c\62\x35\x5b\60\55\x35\x5d\174\133\x31\x2d\x39\135\x5c\x64\x7c\x5c\144\x29\134\x2e\50\61\x5c\144\x7b\62\175\174\x32\x5b\60\55\64\135\134\144\174\x32\x35\133\x30\x2d\65\x5d\174\133\61\55\71\x5d\x5c\144\174\x5c\x64\x29\x5c\56\x28\61\x5c\x64\x7b\x32\x7d\174\x32\x5b\60\55\x34\x5d\134\144\174\62\x35\133\60\55\65\135\x7c\x5b\x31\55\71\135\x5c\144\x7c\134\144\x29\x24\57", $host); goto XeUwM; Cj1dL: if (!$if_local_network192) { goto dlJfi; } goto haqlq; YmQex: goto B_y5k; goto m3G1Q; haqlq: return false; goto IcV8W; LI3D_: FJUox: goto zRnTM; mpUwy: $if_local_network10 = preg_match("\x2f\136\x31\x30\134\x2e\x28\61\x5c\144\173\62\x7d\x7c\62\133\60\55\x34\135\x5c\x64\174\x32\x35\x5b\60\x2d\x35\135\x7c\x5b\x31\55\71\135\x5c\144\x7c\134\x64\x29\x5c\56\x28\61\x5c\x64\x7b\x32\x7d\x7c\62\133\x30\x2d\64\135\x5c\x64\x7c\x32\65\x5b\x30\55\x35\135\174\133\x31\55\x39\135\x5c\144\x7c\134\x64\x29\x5c\x2e\50\61\134\x64\x7b\62\175\x7c\x32\x5b\60\x2d\64\135\134\144\174\62\x35\x5b\x30\55\65\x5d\174\133\61\x2d\x39\135\134\x64\174\134\x64\x29\44\57", $host); goto dKoR6; BOnC2: if (!$if_local_network172) { goto eXgKR; } goto Aea_5; RGxZt: return false; goto ZobCR; D264x: mtrRk: goto dxzK9; z2Mq6: if (!empty($host)) { goto wLbJ5; } goto jFQ8f; dxzK9: $if_local_network192 = preg_match("\57\136\x31\71\x32\x5c\x2e\61\x36\70\x5c\x2e\x28\61\x5c\144\173\x32\175\174\62\x5b\x30\55\64\135\134\x64\174\62\65\133\x30\55\x35\135\x7c\x5b\x31\55\x39\135\134\144\174\134\x64\51\134\x2e\x28\x31\134\144\173\x32\x7d\x7c\x32\133\x30\55\64\x5d\x5c\144\x7c\x32\x35\133\60\x2d\65\x5d\x7c\133\x31\x2d\71\135\x5c\x64\174\x5c\144\x29\x24\57", $dns_record[0]["\x69\x70"]); goto Cj1dL; QwtGV: } goto gQkf6; e81lG: function local_config() { $cfg = "\74\x3f\160\x68\160\15\xa\x64\145\x66\x69\156\x65\x64\x28\x27\111\x4e\x5f\111\101\47\51\40\x6f\162\x20\x65\170\x69\164\x28\x27\x41\143\x63\x65\163\x73\40\104\x65\156\x69\145\x64\47\51\73\xd\12\15\xa\x24\x63\157\x6e\146\151\x67\x20\x3d\x20\141\x72\x72\x61\171\50\51\x3b\xd\12\xd\xa\x24\x63\x6f\156\x66\151\147\x5b\x27\x64\142\x27\135\x5b\x27\x6d\141\x73\164\x65\x72\47\x5d\133\x27\150\157\163\164\47\135\40\x3d\40\47\x7b\x64\x62\x2d\x73\145\162\x76\145\162\x7d\47\73\15\12\x24\143\157\x6e\146\151\147\x5b\x27\144\142\47\x5d\x5b\47\155\x61\x73\164\145\x72\x27\x5d\133\x27\x75\163\x65\x72\x6e\x61\x6d\x65\47\135\40\75\40\x27\173\144\142\55\165\163\145\162\156\x61\x6d\x65\x7d\x27\x3b\xd\12\x24\143\x6f\156\146\x69\x67\133\x27\x64\x62\47\135\133\x27\155\x61\x73\164\145\162\47\x5d\133\x27\x70\141\163\x73\167\x6f\162\x64\x27\135\40\x3d\x20\47\x7b\x64\142\x2d\x70\x61\x73\163\x77\x6f\x72\144\175\47\73\xd\xa\44\143\157\x6e\x66\x69\x67\x5b\x27\144\142\x27\135\133\x27\x6d\141\163\164\145\x72\47\135\x5b\47\x70\157\162\x74\x27\x5d\40\x3d\40\47\173\x64\x62\55\x70\x6f\162\164\175\47\73\xd\12\44\143\157\x6e\x66\x69\x67\x5b\47\x64\142\47\x5d\133\x27\x6d\141\x73\x74\145\162\x27\x5d\133\47\x64\141\164\x61\x62\x61\163\145\47\135\40\75\x20\x27\x7b\x64\142\x2d\156\141\x6d\145\x7d\47\73\xd\xa\44\143\157\x6e\x66\x69\x67\x5b\47\x64\x62\x27\x5d\x5b\x27\155\x61\x73\x74\x65\x72\x27\x5d\133\47\x63\x68\141\162\x73\x65\164\47\x5d\40\x3d\40\x27\165\x74\x66\x38\47\x3b\15\xa\44\143\x6f\156\146\151\147\133\47\144\142\x27\135\133\47\x6d\x61\163\164\145\x72\x27\135\133\47\160\x63\x6f\156\x6e\x65\143\164\x27\x5d\x20\x3d\40\60\x3b\xd\12\44\143\x6f\x6e\x66\x69\x67\x5b\47\144\142\x27\135\133\47\155\x61\163\164\x65\x72\x27\135\x5b\x27\x74\141\142\x6c\x65\x70\162\x65\47\135\40\x3d\40\x27\x7b\144\x62\x2d\164\x61\142\x6c\145\x70\162\145\x7d\47\x3b\xd\xa\xd\12\44\143\157\156\x66\x69\147\133\47\144\x62\47\135\133\x27\163\x6c\141\166\145\x5f\163\x74\141\x74\x75\x73\x27\135\40\x3d\x20\146\141\x6c\163\x65\73\15\12\44\143\x6f\156\146\151\147\133\47\x64\142\47\x5d\133\47\x73\154\x61\x76\x65\x27\135\133\47\x31\x27\135\133\47\150\157\163\164\47\135\40\75\40\x27\47\73\15\12\x24\x63\157\156\146\151\147\133\x27\x64\x62\x27\135\133\x27\163\x6c\141\166\x65\x27\x5d\133\47\61\47\x5d\133\47\x75\x73\145\162\x6e\x61\155\145\47\x5d\x20\75\x20\47\x27\x3b\xd\12\x24\x63\x6f\156\146\x69\147\x5b\47\144\142\47\135\133\x27\163\x6c\x61\x76\145\x27\x5d\x5b\47\61\47\135\x5b\47\160\141\x73\163\x77\157\162\144\47\135\40\75\40\47\47\73\15\12\44\x63\157\x6e\x66\x69\x67\133\x27\144\142\x27\135\133\x27\x73\154\141\166\145\47\x5d\x5b\x27\61\47\135\x5b\x27\x70\157\x72\164\x27\x5d\x20\x3d\x20\47\63\63\60\x37\47\73\15\xa\x24\x63\157\156\146\x69\147\133\x27\144\142\x27\x5d\x5b\47\163\154\141\166\145\47\135\x5b\47\61\x27\x5d\x5b\x27\144\x61\164\x61\x62\x61\163\x65\47\x5d\40\x3d\x20\47\x27\73\xd\xa\44\143\157\156\x66\151\x67\x5b\x27\144\x62\x27\135\133\47\x73\x6c\141\x76\x65\47\135\x5b\47\61\x27\135\133\47\x63\x68\x61\x72\163\145\x74\47\x5d\x20\75\x20\47\165\164\x66\x38\x27\x3b\15\xa\x24\x63\157\156\146\x69\x67\x5b\x27\144\142\47\x5d\x5b\x27\x73\154\x61\166\145\47\135\x5b\47\61\47\x5d\x5b\47\160\143\157\x6e\156\145\143\164\x27\x5d\40\x3d\40\x30\73\xd\12\x24\143\157\156\146\x69\x67\x5b\x27\144\x62\x27\135\133\x27\x73\154\x61\166\145\47\135\133\x27\61\47\135\133\47\x74\x61\142\154\145\160\x72\145\47\x5d\x20\75\x20\x27\151\x6d\163\x5f\47\x3b\15\12\44\x63\x6f\156\146\151\147\133\47\144\x62\47\x5d\133\x27\163\154\141\x76\x65\x27\135\x5b\x27\x31\47\135\x5b\47\167\x65\151\x67\x68\164\x27\x5d\x20\x3d\40\x30\x3b\15\12\xd\12\44\143\157\x6e\146\151\147\133\47\144\142\x27\x5d\133\x27\x63\157\x6d\x6d\157\x6e\x27\x5d\x5b\x27\x73\154\x61\166\145\137\x65\170\x63\145\x70\x74\137\164\x61\142\x6c\x65\47\x5d\40\x3d\x20\141\x72\162\141\x79\x28\47\x63\157\x72\145\x5f\x73\x65\163\x73\x69\x6f\x6e\x73\x27\51\73\xd\12\xd\12\57\x2f\x20\x2d\x2d\x2d\x2d\55\55\55\55\55\x2d\x2d\55\55\55\x2d\55\x2d\55\x2d\55\55\55\x2d\x2d\55\55\x20\x20\103\117\116\106\111\x47\x20\x43\117\117\113\111\x45\40\x20\55\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\55\55\x2d\x2d\x2d\55\x2d\x2d\x2d\55\55\55\x2d\55\x20\57\x2f\xd\xa\x24\143\157\x6e\146\151\x67\133\47\143\x6f\x6f\153\151\145\47\x5d\133\47\160\x72\145\47\135\x20\75\40\47\x7b\x63\157\157\x6b\151\145\x70\x72\145\x7d\47\x3b\15\xa\x24\x63\157\156\x66\151\147\133\x27\x63\x6f\x6f\153\x69\x65\x27\x5d\x5b\x27\x64\x6f\155\x61\x69\x6e\47\x5d\40\75\x20\x27\47\73\15\xa\44\x63\157\x6e\146\x69\x67\x5b\47\x63\157\x6f\x6b\x69\145\47\x5d\x5b\x27\x70\x61\x74\x68\47\135\x20\x3d\40\x27\57\47\73\15\xa\xd\12\x2f\57\x20\55\55\55\55\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\55\55\55\x2d\x2d\55\55\55\55\x2d\55\x20\40\103\117\116\x46\111\107\x20\123\105\124\124\111\116\x47\40\40\55\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\x2d\55\x2d\55\x2d\55\55\x2d\55\x2d\x2d\x2d\55\x2d\x2d\55\x2d\40\x2f\x2f\xd\xa\x24\x63\x6f\156\146\151\147\x5b\47\x73\x65\164\x74\151\x6e\147\x27\x5d\133\x27\x63\x68\141\x72\x73\x65\x74\x27\135\x20\x3d\40\47\x75\x74\146\55\70\x27\x3b\15\xa\44\143\x6f\x6e\146\x69\x67\133\x27\163\145\x74\x74\151\156\147\47\x5d\133\x27\x63\141\x63\x68\x65\x27\135\x20\75\40\x27\x6d\171\x73\x71\x6c\47\73\xd\xa\x24\x63\157\x6e\x66\151\x67\x5b\x27\163\145\164\x74\151\x6e\x67\x27\135\x5b\47\x74\x69\x6d\x65\172\157\x6e\x65\x27\x5d\40\x3d\x20\x27\x41\x73\151\x61\57\123\150\141\x6e\147\x68\141\x69\47\73\15\12\x24\143\x6f\156\146\151\x67\133\47\x73\x65\x74\x74\151\x6e\x67\x27\x5d\133\x27\x6d\145\155\x6f\162\171\137\154\x69\155\x69\x74\47\x5d\40\75\40\47\x32\65\66\115\47\x3b\xd\12\44\143\157\156\x66\151\x67\x5b\x27\x73\145\164\x74\151\156\147\47\x5d\x5b\47\x66\x69\x6c\x65\x6d\x6f\144\145\47\135\40\75\40\60\x36\x34\64\73\xd\12\44\x63\x6f\x6e\146\151\147\x5b\x27\163\145\164\x74\151\156\147\47\135\x5b\x27\x61\165\164\x68\153\x65\x79\x27\135\40\x3d\x20\x27\173\141\165\164\x68\153\145\x79\175\x27\73\15\xa\x24\x63\157\156\146\x69\147\x5b\x27\163\145\x74\164\151\x6e\x67\47\135\133\47\x66\157\x75\x6e\x64\x65\162\x27\135\x20\x3d\40\x27\61\x27\73\15\xa\x24\143\157\x6e\146\151\x67\133\x27\x73\x65\x74\164\151\x6e\x67\x27\x5d\x5b\x27\144\x65\166\145\154\x6f\x70\x6d\x65\156\164\x27\135\x20\75\40\60\73\xd\12\x24\x63\x6f\156\x66\151\x67\x5b\x27\163\145\x74\164\x69\x6e\x67\47\135\133\x27\162\145\146\x65\162\x72\x65\x72\x27\x5d\40\75\40\60\x3b\xd\12\15\xa\57\x2f\x20\x2d\x2d\55\55\55\55\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\40\40\103\117\116\106\x49\107\x20\x55\120\x4c\117\x41\104\x20\x20\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\55\x2d\55\55\55\55\55\55\x2d\x2d\55\55\55\x2d\x2d\x20\57\57\xd\xa\44\x63\x6f\156\x66\x69\147\133\x27\x75\x70\x6c\x6f\141\144\x27\135\x5b\47\151\155\141\x67\145\47\135\133\x27\x65\x78\164\145\156\x74\x69\x6f\x6e\163\x27\135\40\x3d\40\x61\162\x72\x61\171\50\x27\147\151\x66\x27\x2c\40\47\152\x70\x67\47\54\x20\x27\152\x70\145\147\x27\x2c\x20\x27\160\156\x67\x27\x29\x3b\xd\12\44\x63\x6f\156\146\151\147\x5b\47\x75\160\154\157\141\144\x27\x5d\133\x27\151\x6d\141\147\x65\x27\x5d\133\47\154\151\x6d\x69\164\47\135\40\x3d\40\x35\x30\60\60\x3b\xd\xa\x24\x63\x6f\x6e\146\x69\x67\133\47\x75\x70\x6c\x6f\x61\x64\x27\135\133\x27\x61\164\x74\x61\x63\x68\x64\151\x72\x27\x5d\40\75\40\x27\x7b\x61\164\164\x61\143\x68\x64\x69\x72\175\47\x3b\15\xa\44\143\157\156\146\151\x67\x5b\x27\x75\x70\x6c\157\x61\144\x27\x5d\x5b\x27\141\x75\144\x69\x6f\x27\x5d\133\x27\x65\x78\164\145\156\x74\151\x6f\x6e\x73\47\135\x20\75\40\x61\x72\162\141\x79\x28\47\155\160\x33\47\51\x3b\15\xa\44\x63\157\x6e\146\x69\147\133\x27\165\x70\x6c\x6f\x61\144\47\135\133\47\141\165\144\151\157\x27\x5d\x5b\x27\x6c\x69\155\151\x74\x27\135\x20\75\40\65\60\x30\60\73\15\12\15\xa\x2f\x2f\x20\x2d\x2d\x2d\55\x2d\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\55\x2d\40\x20\103\117\116\x46\111\107\x20\115\105\x4d\x43\101\103\110\105\40\40\55\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\x2d\55\55\x2d\x2d\55\55\55\55\x2d\55\x2d\x2d\55\x2d\x20\57\x2f\xd\xa\44\143\x6f\156\146\x69\x67\133\x27\163\145\164\x74\x69\x6e\x67\47\135\x5b\x27\x6d\145\x6d\x63\x61\x63\150\x65\47\135\133\x27\163\145\x72\x76\145\162\47\135\40\x3d\40\47\47\x3b\xd\12\44\143\x6f\156\x66\151\x67\x5b\x27\x73\x65\x74\164\151\156\147\x27\135\x5b\47\155\145\x6d\x63\x61\143\x68\145\x27\x5d\133\47\160\x6f\162\x74\x27\x5d\x20\75\x20\x31\x31\x32\x31\x31\73\xd\12\44\143\157\156\x66\151\x67\x5b\47\x73\145\x74\164\151\x6e\x67\47\135\x5b\47\x6d\145\x6d\143\141\x63\150\x65\x27\135\133\x27\x70\x63\157\x6e\156\x65\x63\x74\47\x5d\x20\75\40\x31\73\15\xa\x24\x63\157\x6e\146\x69\x67\x5b\x27\x73\x65\x74\x74\151\x6e\147\47\135\133\x27\155\145\x6d\143\x61\143\150\145\x27\x5d\133\47\164\x69\155\x65\157\x75\164\x27\x5d\x20\x3d\x20\63\60\73\xd\xa\44\x63\x6f\156\x66\151\147\133\x27\x73\145\x74\x74\151\x6e\147\x27\135\x5b\47\155\145\x6d\x63\x61\143\150\x65\x27\x5d\x5b\x27\x73\x65\x73\163\151\x6f\x6e\47\135\40\x3d\40\61\x3b\15\xa\15\12\57\57\40\55\55\55\55\55\x2d\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\x2d\55\55\55\55\x2d\x2d\55\x20\40\103\117\116\x46\x49\x47\x20\x50\122\117\x58\x59\40\40\55\55\x2d\55\55\x2d\55\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\x20\x2f\x2f\xd\12\x24\x63\x6f\x6e\146\x69\x67\133\47\x73\145\x74\x74\x69\156\x67\x27\135\x5b\x27\160\162\157\170\171\47\135\133\47\150\157\x73\x74\x27\x5d\40\75\x20\47\47\73\15\xa\44\143\157\x6e\x66\151\x67\133\47\163\x65\x74\164\151\156\x67\x27\x5d\133\x27\160\x72\x6f\x78\171\x27\135\133\x27\x61\165\x74\x68\x27\135\40\x3d\x20\x27\47\x3b"; return trim($cfg); } goto TBllE; tTb74: define("\x41\120\111\137\107\x45\124\137\103\x48\x55\116\113\x5f\x50\x41\x43\113\x41\x47\105", API_HOST . "\x2f\165\x74\x69\154\57\x70\x61\143\x6b\x61\x67\x65\x2f\x69\x6e\163\x74\x61\154\x6c"); goto PR1MD; I7Rr1: we7_setcookie("\143\150\x75\156\x6b\x5f\164\157\x74\x61\x6c", 1); goto o9GgC; JlLiV: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\143\x68\165\156\153\x5f" . $i) || empty($chunk_i_filesize))) { goto EAWZ7; } goto kdNVk; KqdOO: Q1po4: goto dQpAS; NeeMM: define("\111\116\137\123\x59\123", true); goto OYPm4; vdiMK: if (!($chunk_num > $chunk_total)) { goto d40Zs; } goto yoRkj; Nm0PR: $handle_result = we7_handle_chunk(); goto FZEa_; w6DMp: goto gNqv1; goto T0hLM; xJCux: exit; goto eJamM; gQkf6: function we7_need_extension() { return array("\172\x69\160", "\160\x64\x6f", "\160\x64\x6f\x5f\x6d\171\163\x71\x6c", "\157\x70\x65\156\x73\x73\154", "\147\x64", "\155\x62\163\164\162\x69\156\x67", "\155\x63\162\171\160\x74", "\143\x75\162\x6c"); } goto qiy6m; LUxfu: $ret["\x66\157\160\x65\156"]["\162\x65\163\165\x6c\x74"] = "\344\xb8\x8d\xe6\224\xaf\xe6\x8c\x81\146\x6f\160\x65\156"; goto Fs9cl; Uk_0h: echo "\x3c\x21\x64\157\143\164\x79\160\145\40\150\x74\155\154\76\xd\xa\x3c\150\164\x6d\154\40\x6c\141\x6e\x67\x3d\42\x65\156\42\76\xd\12\74\x68\145\x61\144\x3e\15\xa\x20\40\x3c\155\145\x74\141\x20\143\150\141\x72\x73\x65\x74\75\42\x75\x74\146\x2d\x38\x22\76\xd\12\40\40\x3c\x74\x69\x74\154\x65\x3e\x57\145\x37\111\156\x73\164\x61\x6c\154\x3c\57\164\x69\x74\x6c\145\x3e\15\xa\40\x20\x3c\x62\141\163\145\40\x68\x72\x65\146\x3d\x22" . $sitepath . "\x2f\151\x6e\163\164\141\x6c\154\56\x70\x68\160\42\76\15\12\xd\xa\40\x20\x3c\x6d\x65\x74\x61\x20\156\x61\x6d\x65\75\x22\x76\x69\145\x77\160\x6f\162\x74\42\x20\x63\x6f\156\164\145\156\164\75\42\x77\151\144\164\x68\75\144\145\x76\151\143\145\x2d\167\151\x64\164\150\54\40\151\156\x69\x74\151\x61\154\55\x73\x63\x61\154\x65\75\61\x22\76\xd\12\x20\40\x3c\154\x69\156\x6b\x20\x72\145\x6c\x3d\42\x69\x63\157\156\x22\40\164\x79\160\145\x3d\42\151\x6d\x61\x67\145\57\x78\55\x69\143\157\156\x22\x20\150\162\145\146\75\x2f\57\x63\144\x6e\x2e\x77\x37\56\143\143\x2f\x77\x65\x37\55\x69\156\x73\164\x61\x6c\x6c\x2f\x66\141\x76\x69\143\x6f\x6e\56\151\143\157\x22\x3e\xd\xa\74\154\151\156\x6b\x20\x72\145\x6c\x3d\42\x73\x74\171\x6c\145\163\150\x65\x65\x74\x22\x20\150\x72\x65\146\75\x22\x2f\x2f\143\x64\x6e\x2e\167\67\56\143\143\x2f\x75\x65\x64\57\167\145\67\x2d\151\156\163\164\x61\154\154\x2f" . INSTALL_VERSION . "\57\163\x74\171\154\145\x73\x2e\x63\x73\x73\x3f\166\75" . time() . "\x22\76\74\57\150\145\x61\x64\x3e\xd\xa\x3c\x62\x6f\x64\x79\x3e\15\xa\x20\40\74\x61\x70\160\x2d\x72\x6f\157\x74\76\x3c\x2f\x61\160\160\x2d\x72\x6f\157\164\x3e\xd\12\x3c\x73\x63\x72\x69\x70\164\40\164\x79\x70\145\75\x22\x74\145\x78\164\57\x6a\x61\166\141\163\x63\x72\151\160\x74\x22\x20\163\x72\143\x3d\x22\x2f\x2f\x63\144\156\x2e\167\67\x2e\143\143\57\165\145\144\x2f\x77\x65\x37\55\151\x6e\163\x74\x61\x6c\154\57" . INSTALL_VERSION . "\x2f\162\x75\156\x74\151\155\x65\56\152\x73\77\x76\75" . time() . "\42\76\x3c\x2f\163\x63\x72\151\x70\x74\76\x3c\163\143\162\x69\x70\164\40\x74\171\x70\145\75\x22\164\x65\x78\x74\57\152\141\166\x61\x73\143\162\151\x70\164\x22\40\163\x72\143\75\x22\x2f\x2f\143\x64\156\56\167\67\56\x63\143\57\165\145\144\x2f\167\145\x37\55\x69\156\x73\164\x61\x6c\154\x2f" . INSTALL_VERSION . "\57\x70\157\154\171\146\151\x6c\x6c\x73\56\x6a\163\x3f\166\x3d" . time() . "\x22\76\74\x2f\163\143\162\x69\x70\164\x3e\74\163\143\162\x69\160\x74\x20\164\x79\160\145\x3d\x22\x74\145\170\x74\57\x6a\141\x76\x61\163\x63\162\x69\160\x74\x22\x20\163\162\x63\x3d\42\57\x2f\x63\x64\156\x2e\x77\x37\x2e\143\143\x2f\x75\145\x64\57\167\x65\67\x2d\151\x6e\x73\x74\x61\154\154\57" . INSTALL_VERSION . "\x2f\x6d\x61\151\x6e\56\152\163\x3f\166\x3d" . time() . "\42\76\x3c\x2f\x73\143\x72\x69\x70\x74\76\74\57\x62\157\144\x79\x3e\15\12\74\x2f\150\164\155\x6c\76"; goto ENf5e; aQUcf: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\x2f\x63\x6f\156\x66\x69\x67\56\160\x68\x70") || !empty($_POST))) { goto BnIvP; } goto Woi_i; M2IwB: if ($ret["\x64\141\x74\x61"]["\x6f\153"]) { goto hcL7w; } goto bPRGl; g8tqO: define("\101\x50\111\137\x4f\101\x55\x54\110\137\x41\x43\x43\x45\123\x53\124\117\x4b\x45\116", API_HOST . "\57\157\x61\165\164\150\57\141\x63\x63\x65\163\163\x2d\x74\157\x6b\145\x6e\x2f\143\157\144\x65"); goto M2igE; p3P48: o8SJU: goto vi9d3; bPRGl: $ret["\x64\x61\164\141"]["\x66\x61\151\x6c\145\144"] = true; goto WIF_q; VDJWX: $ret["\x72\157\157\164"]["\157\x6b"] = local_writeable(IA_INSTALL_ROOT); goto BvFZy; f02z0: exit(we7_error(0, "\163\165\143\x63\145\x73\x73")); goto F7FJd; FiJ7B: if (!(file_exists(IA_INSTALL_ROOT . "\57\144\141\164\141\x2f\151\156\x73\164\x61\x6c\x6c\x2e\x6c\x6f\143\153") && !in_array($action, array("\157\141\165\x74\150", "\154\x6f\147\151\x6e", "\147\145\x74\137\163\x69\164\145\x6b\145\x79")))) { goto tnJpO; } goto nsyjw; rTaz6: error_reporting(0); goto HvqyT; MAB3z: function we7_setcookie($key, $value) { goto yM8B5; CMFvm: vnS9f: goto bo8W4; bo8W4: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto TSjtI; pfbdV: $value = json_encode($value); goto CMFvm; yM8B5: $secure = $_SERVER["\123\x45\x52\126\105\122\x5f\x50\117\x52\124"] == 443 ? 1 : 0; goto Q_Pky; Q_Pky: if (!is_array($value)) { goto vnS9f; } goto pfbdV; TSjtI: } goto Sdi0u; qL5Zv: exit(we7_error(400, "\xe4\xbf\256\xe6\x94\271\xe7\224\xa8\346\210\xb7\345\x90\x8d\345\257\206\347\xa0\x81\345\244\xb1\350\264\245\x2e")); goto B7lpk; bcBZl: KEo0i: goto WL8hO; C_ZwO: $ret["\141\x6c\167\141\171\163\137\x70\x6f\x70\x75\x6c\141\164\x65\x5f\x72\x61\167\x5f\x70\157\x73\x74\137\144\x61\x74\141"]["\x68\141\156\144\x6c\145"] = "\x68\x74\x74\x70\x73\x3a\x2f\x2f\163\56\167\x37\x2e\143\x63\57\x77\157\x2f\x70\x72\x6f\x62\154\x65\155\57\61\63\x34"; goto ZRvbE; inH4E: we7_setcookie("\141\x63\143\145\x73\163\164\157\x6b\x65\x6e", $data); goto uzvgJ; GZ8Dy: hAVSD: goto RMcF6; AYIbv: $is_https = $_SERVER["\123\x45\x52\x56\105\122\x5f\x50\117\x52\124"] == 443 || isset($_SERVER["\110\124\124\120\123"]) && strtolower($_SERVER["\x48\x54\124\x50\x53"]) != "\x6f\146\x66" || strtolower($_SERVER["\x48\x54\124\x50\x5f\130\x5f\x46\117\x52\x57\x41\x52\x44\x45\x44\137\x50\122\117\x54\x4f"]) == "\150\x74\164\x70\163" || strtolower($_SERVER["\110\x54\124\120\x5f\130\137\x43\x4c\111\x45\x4e\x54\137\x53\103\110\105\115\x45"]) == "\x68\164\x74\160\x73" ? true : false; goto lAcqM; rKeSx: $sitekey = $_W["\163\145\x74\x74\151\156\147"]["\x73\151\164\x65"]["\153\x65\171"]; goto lHJzY; T0hLM: lV5sM: goto OjUub; hg53R: WEvbb: goto f02z0; EslMf: exit(we7_error(421, $handle_result)); goto Noqyc; ExO7K: $ret["\x61\154\x77\x61\x79\x73\137\x70\x6f\160\x75\x6c\141\x74\145\137\x72\x61\x77\137\160\x6f\163\164\137\x64\x61\x74\x61"]["\x6e\141\155\145"] = "\141\154\x77\141\171\163\x5f\x70\157\160\x75\154\141\x74\145\x5f\x72\141\167\x5f\x70\157\163\164\137\144\x61\164\x61\351\x85\x8d\347\275\256"; goto BJJuH; hn3u5: Agaem: goto AaJYl; lGnLl: define("\x41\120\x49\x5f\x55\x50\x44\101\124\x45\137\123\111\124\105\116\101\x4d\105", API_HOST . "\x2f\x73\x69\164\x65\x2f\x72\x65\147\x69\163\x74\145\x72\57\x72\x65\x6e\x61\x6d\145"); goto ib55p; tRobI: setting_save($site, "\x73\x69\164\145"); goto xD9zJ; U1Kii: if (!($database_result !== true)) { goto J50Bo; } goto vMf76; Ck1Cn: $local_install = false; goto m5p22; riwIu: O5Qfk: goto uFKEV; BkBLq: if (!($action == "\144\x6f\167\x6e\154\157\x61\144")) { goto kTI_I; } goto AQtDA; DcTcn: nWlrN: goto S2AWu; Ub1II: we7_handle_chunk(); goto uagRH; emHV3: bp0Op: goto zNBEs; aoOpR: exit(we7_error(0, array("\164\x6f\164\141\154" => $data["\x63\150\165\x6e\153\137\x74\157\x74\x61\154"]))); goto ROVxn; eJamM: CWFQE: goto bU7IA; aUA1U: $ret["\x61\x73\160\137\164\141\x67\x73"]["\x66\x61\x69\154\x65\x64"] = true; goto RowpN; MpMnA: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\x6d\163\x5f"; goto mQdp3; oWBBZ: $ret["\146\x6f\x70\x65\156"]["\146\x61\x69\x6c\x65\144"] = true; goto WnUsq; jAIgK: exit(we7_error(0, $result)); goto YwKft; g0UX3: xsYHo: goto Dmrjb; y4A6z: $ret["\x75\160\154\157\x61\x64"]["\162\x65\163\x75\x6c\x74"] = $server["\x75\x70\x6c\x6f\x61\144"]; goto oJHNj; RMcF6: if (empty($result)) { goto WEvbb; } goto GM9Fm; otxLR: exit(we7_error(0, "\163\x75\143\x63\145\163\x73")); goto YfT90; I1K43: fclose($hostfile); goto Ub1II; JFIqE: if (!empty($data)) { goto E72PK; } goto q2Py9; i7GJ8: if (feof($hostfile)) { goto C8q48; } goto D1dp_; ERCdG: C8q48: goto I1K43; SwIIv: function install_authcode($string, $operation = "\x44\105\x43\x4f\104\x45", $key = '', $expiry = 0) { goto hM5UF; H6gd3: return ''; goto ilOjr; yu5UV: return substr($result, 26); goto F1Ler; FIXjE: $i++; goto p_ldT; KLPPk: hNOyC: goto usbpd; IIpuu: fth6K: goto OAgjY; uK7y7: $tmp = $box[$a]; goto owPk5; t4cK4: $j = ($j + $box[$a]) % 256; goto uK7y7; vRrli: WKqp_: goto g1VBl; fF129: $keyc = $ckey_length ? $operation == "\x44\x45\103\x4f\104\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto s7_Jw; gFVqT: $a = $j = $i = 0; goto o2WhM; Y_B82: O2xzZ: goto hzTww; JcDcF: return $keyc . str_replace("\x3d", '', base64_encode($result)); goto ZOVnE; bAtpR: if (!($i < 256)) { goto zvcYH; } goto YYL_b; OGMeN: $tmp = $box[$i]; goto U5d4r; d85U3: if (!($i < $string_length)) { goto fth6K; } goto idgH5; YYL_b: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto OGMeN; A0Pje: $i++; goto o3KMx; C1AHV: w6858: goto K6Fti; n52U6: $string_length = strlen($string); goto rBxzV; owPk5: $box[$a] = $box[$j]; goto XNTMV; sgry1: $string = $operation == "\104\105\x43\117\x44\x45" ? base64_decode(substr($string, $ckey_length)) : sprintf("\x25\x30\x31\60\x64", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto n52U6; GkWLY: wycnR: goto FIXjE; AVV6b: goto hNOyC; goto vRrli; hM5UF: $ckey_length = 4; goto gpFgG; g1VBl: $j = $i = 0; goto I1oDD; ZOVnE: goto O2xzZ; goto C1AHV; OAgjY: if ($operation == "\104\x45\103\117\104\x45") { goto w6858; } goto JcDcF; U5d4r: $box[$i] = $box[$j]; goto H3ju1; rBxzV: $result = ''; goto yizMZ; K6Fti: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto dsKOb; } goto H6gd3; NUVM8: $i = 0; goto KLPPk; o2WhM: y3oCh: goto d85U3; AZQHN: $rndkey = array(); goto NUVM8; kHjwS: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto YN5zm; cBTWH: $i++; goto AVV6b; UHjet: knEe1: goto cBTWH; s7_Jw: $cryptkey = $keya . md5($keya . $keyc); goto fyKMN; yizMZ: $box = range(0, 255); goto AZQHN; JBU95: dsKOb: goto yu5UV; o3KMx: goto y3oCh; goto IIpuu; iMlUI: zvcYH: goto gFVqT; F1Ler: c8XND: goto Y_B82; I1oDD: LIk1V: goto bAtpR; idgH5: $a = ($a + 1) % 256; goto t4cK4; XNTMV: $box[$j] = $tmp; goto kHjwS; H3ju1: $box[$j] = $tmp; goto GkWLY; YN5zm: ub9kW: goto A0Pje; fyKMN: $key_length = strlen($cryptkey); goto sgry1; J8xYW: $keya = md5(substr($key, 0, 16)); goto o1FXb; gpFgG: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\143\x6f\x6e\x66\x69\147"]["\x73\145\164\x74\x69\x6e\147"]["\141\165\x74\150\153\x65\171"]); goto J8xYW; o1FXb: $keyb = md5(substr($key, 16, 16)); goto fF129; usbpd: if (!($i <= 255)) { goto WKqp_; } goto Sk9sb; p_ldT: goto LIk1V; goto iMlUI; ilOjr: goto c8XND; goto JBU95; Sk9sb: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto UHjet; hzTww: } goto gKEpw; GpuIl: header("\114\157\x63\x61\164\151\157\x6e\x3a\x20" . $siteroot . "\57\151\156\163\x74\x61\154\154\x2e\160\150\160"); goto xJCux; HQ2MQ: iNPBN: goto j8xF5; Woi_i: $server = trim($_POST["\163\145\x72\166\x65\162"]); goto h39XS; SzM_v: ReHSq: goto O9U2Z; UQiPr: goto riT6S; goto IfOoC; PR1MD: define("\101\120\111\137\x4f\101\x55\124\x48\x5f\122\105\x47\x49\x53\x54\x45\122\137\123\x49\124\x45", API_HOST . "\x2f\x73\151\x74\145\57\x72\145\x67\151\x73\x74\145\162\57\151\156\144\x65\x78"); goto mpL1o; xD9zJ: exit(we7_error(0, "\x73\x75\x63\143\x65\163\x73")); goto TWbYz; vsZPE: if ($data["\x65\x72\x72\157\x72"] == 401) { goto LRCzX; } goto lBwBg; lAcqM: $sitepath = substr($_SERVER["\120\110\x50\137\123\x45\114\106"], 0, strrpos($_SERVER["\120\110\120\137\123\105\114\x46"], "\x2f")); goto gbI9L; WRZY2: $ret["\166\145\x72\163\151\157\156"]["\156\x61\x6d\145"] = "\x50\x48\x50\xe7\211\210\xe6\234\xac"; goto fEiXT; l3KIi: $siteroot = htmlspecialchars(($is_https ? "\150\164\164\x70\x73\72\x2f\x2f" : "\150\164\x74\160\72\57\57") . (isset($_SERVER["\x48\x54\124\x50\137\110\117\x53\x54"]) ? $_SERVER["\x48\124\124\x50\137\110\x4f\123\124"] : '') . $sitepath); goto U5qzb; YnEL4: exit(we7_error(0, $chunk_num)); goto vdiMK; MNszC: $action = trim($_GET["\x73\x74\x65\x70"]); goto QeFgM; mS0g5: if (!($action == "\x65\156\x76\151\162\x6f\x6e\155\145\x6e\x74")) { goto N5pnz; } goto wONeP; Q205T: goto drYNP; goto osxsN; PuFxx: ESIih: goto xEK7o; O9U2Z: exit(we7_error(433, "\x61\x63\143\x65\163\163\x74\157\x6b\145\156\40\x65\170\x70\x69\162\x65\x64\x2e")); goto NyPta; JVVhZ: C0VRx: goto b1Ta1; VtJmZ: $result = array(); goto wX2LQ; aOwGC: LNz1a: goto VDJWX; ItKxj: exit(we7_error(400, $chunk_num)); goto xC2qN; FQxpa: function local_run($sql, $link, $db) { goto KHYzu; mcv3l: $sql = str_replace("\xd", "\xa", str_replace("\40\151\155\x73\x5f", "\40" . $db["\x70\x72\145\x66\x69\x78"], $sql)); goto wdDeH; JhkZt: vLKFK: goto Wf2QV; KHYzu: if (!(!isset($sql) || empty($sql))) { goto VwRn_; } goto dMU1E; dMU1E: return; goto n6DaZ; Wf2QV: unset($sql); goto Q9Hh3; NM2HY: $ret = array(); goto YjOd0; Q9Hh3: foreach ($ret as $query) { goto QDV6C; che14: $link->exec($query); goto zezuF; zezuF: if (!($link->errorCode() != "\60\x30\60\x30\60")) { goto dwRZ9; } goto dT13j; QDV6C: $query = trim($query); goto XIQJ0; oNr2F: qlSp5: goto fNXTW; XIQJ0: if (!$query) { goto HgdTc; } goto che14; KuKUH: exit($query); goto Ikxwz; Ikxwz: dwRZ9: goto MnpdK; dT13j: $errorInfo = $link->errorInfo(); goto h7xL6; h7xL6: echo $errorInfo[0] . "\72\40" . $errorInfo[2] . "\74\142\x72\x20\x2f\x3e"; goto KuKUH; MnpdK: HgdTc: goto oNr2F; fNXTW: } goto XQNYy; XQNYy: Gy2jN: goto Ilmt6; ZQKBp: foreach (explode("\x3b\12", trim($sql)) as $query) { goto ud4Q1; PPscQ: $queries = explode("\12", trim($query)); goto JhXS4; ud4Q1: $ret[$num] = ''; goto PPscQ; zpRqQ: $num++; goto ILo1t; oa3uM: rIhVa: goto zpRqQ; ILo1t: BtvDC: goto cu_vm; JhXS4: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\x23" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\55\55" ? '' : $query; QlKZI: } goto oa3uM; cu_vm: } goto JhkZt; n6DaZ: VwRn_: goto mcv3l; wdDeH: $sql = str_replace("\xd", "\xa", str_replace("\x20\x60\151\155\163\137", "\40\140" . $db["\160\x72\x65\x66\x69\x78"], $sql)); goto NM2HY; YjOd0: $num = 0; goto ZQKBp; Ilmt6: } goto E7qRG; xfI4R: exit(we7_error(400, "\xe4\277\256\346\224\271\347\253\x99\347\x82\271\345\x90\x8d\xe7\xa7\xb0\345\244\xb1\350\264\245\x2e")); goto irPWd; o9GgC: exit(we7_error(0, array("\x74\x6f\164\x61\154" => 1))); goto DcTcn; oPhXz: $source_size = we7_getcookie("\x63\144\156\x5f\x73\x6f\165\x72\143\145\x5f\x73\151\172\145"); goto nXhPV; j8xF5: $sitename_result = we7_update_sitename($sitename); goto Y9W2x; opixy: $auth = @json_decode(base64_decode($post), true); goto bFmBt; Gf0o7: touch(IA_INSTALL_ROOT . "\x2f\x64\141\164\x61\x2f\x69\x6e\163\x74\x61\x6c\154\56\154\157\x63\x6b"); goto otxLR; KxoLD: $i = 1; goto p3P48; npqsA: define("\111\x41\x5f\111\x4e\x53\x54\x41\114\x4c\137\122\117\117\x54", str_replace("\x5c", "\x2f", dirname(__FILE__))); goto pkGpi; hxK0X: $hostfile = fopen($cdn_source_file, "\x72\142"); goto vUjUT; lIACi: if (!(!empty($ret["\x73\x65\x73\163\151\157\x6e"]["\x6f\153"]) && strtolower($ret["\x73\145\163\163\151\157\156"]["\157\153"]) == "\157\156")) { goto Adz40; } goto V408O; tZJhQ: WMnae: goto YnEL4; uYn5u: $register_site_result = we7_register_site(); goto YbSf_; JWEfm: PkLJb: goto CBdU6; xRXJU: ob_start(); goto npqsA; kdNVk: $finished = false; goto DxN3A; I4ILg: $db_password = trim($_POST["\160\x61\x73\163\167\x6f\162\144"]); goto ivc_3; G64xr: $password = trim($_POST["\x70\x61\163\163\167\157\162\x64"]); goto JcOpW; j8oVB: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto G36Ea; XSCAg: if (!($username != "\141\x64\x6d\151\x6e" || $password != "\61\62\x33\x34\x35\66")) { goto ESIih; } goto c5xTi; de2gL: Q3WXN: goto iXFZU; lBwBg: exit(we7_error(400, $data["\145\162\x72\x6f\162"])); goto Q205T; NyPta: N6_L5: goto f9WVK; ib55p: $actions = array("\x63\150\x65\x63\153\x5f\163\x69\164\145", "\157\141\165\x74\150", "\x65\x6e\166\151\x72\157\x6e\155\x65\x6e\164", "\x69\156\x73\164\141\154\154", "\x63\150\165\x6e\x6b\164\157\x74\x61\x6c", "\144\157\167\156\154\157\141\144\x5f\160\x65\162\x63\145\156\x74", "\x64\157\167\156\x6c\x6f\x61\x64", "\151\x6e\163\x74\141\x6c\x6c", "\x72\x65\147\x69\x73\164\x65\x72\137\143\x61\154\154\x62\x61\x63\x6b", "\x6c\x6f\147\151\156", "\147\145\x74\137\163\151\x74\x65\x6b\145\x79"); goto MNszC; l3jBw: $filename = IA_INSTALL_ROOT . "\x2f\143\x68\165\x6e\x6b\137" . $chunk_num; goto pb5Z5; xC2qN: goto N6_L5; goto SzM_v; ou92k: function we7_update_user($username, $password) { goto ZZpt0; rQU2x: $userinfo = pdo_get("\165\163\x65\162\x73", array("\165\163\x65\162\x6e\x61\x6d\x65" => "\x61\x64\x6d\151\156")); goto XdSqt; p1Z42: $secure = $is_https ? 1 : 0; goto cVHtI; HiJEV: $cookie = array("\154\141\163\x74\x76\x69\163\151\x74" => '', "\154\x61\x73\x74\151\x70" => ''); goto DAFcw; cVHtI: setcookie($_W["\x63\157\156\x66\x69\x67"]["\143\157\157\x6b\151\x65"]["\160\162\145"] . "\137\x5f\163\145\163\x73\x69\x6f\156", $session, 0, "\x2f", '', $secure, true); goto KXuFd; KXuFd: return $result ? true : false; goto an0s1; wt3Mb: $session = install_authcode(json_encode($cookie), "\x65\156\x63\157\144\x65", $_W["\x63\x6f\156\146\151\147"]["\163\145\164\164\151\156\x67"]["\x61\x75\x74\150\x6b\145\x79"]); goto p1Z42; ZZpt0: global $_W, $is_https; goto dYqTE; ceSwJ: $result = pdo_update("\x75\x73\x65\x72\x73", array("\165\163\145\162\x6e\141\x6d\x65" => $username, "\x70\x61\163\x73\x77\157\x72\x64" => $password), array("\165\151\144" => $userinfo["\165\x69\x64"])); goto HiJEV; DAFcw: $cookie["\x75\x69\144"] = $userinfo["\x75\151\x64"]; goto fvXBA; dYqTE: load()->model("\x75\163\x65\x72"); goto rQU2x; XdSqt: $password = user_hash($password, $userinfo["\163\141\x6c\164"]); goto ceSwJ; fvXBA: $cookie["\x68\141\x73\x68"] = md5($password . $userinfo["\163\x61\x6c\164"]); goto wt3Mb; an0s1: } goto RYVvH; uVX6X: LIebP: goto NmQgH; W8VUU: exit(we7_error(0, $chunk_num)); goto wgpBH; XF3ng: $ret["\162\157\x6f\x74"]["\162\145\163\x75\154\x74"] = "\xe6\234\xac\345\x9c\260\xe7\233\256\345\275\225\xe6\227\xa0\xe6\xb3\x95\345\206\x99\345\205\xa5"; goto MptxB; ZRvbE: NLKhr: goto TLol0; uzvgJ: header("\114\157\x63\x61\x74\151\157\x6e\x3a\40" . $siteroot . "\57\x69\156\163\164\x61\x6c\x6c\56\160\x68\160\77\x63\x68\145\143\x6b\x3d\x31"); goto xOOn0; mQdp3: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto U1Kii; dWdpn: $i++; goto zKqU1; sXvm6: $ret["\x64\x6f\x6d"]["\x6e\141\x6d\x65"] = "\x44\117\x4d\x44\157\143\165\155\145\x6e\164"; goto jPw1D; vuT2d: goto IKY23; goto hg53R; MptxB: Ptdnj: goto bPnad; m3UBJ: $header_array = get_headers($cdn_source_file, 1); goto t2Fas; u7Kqq: fwrite($fh, $output); goto UQiPr; qUeNk: $ret["\x64\x6f\155"]["\146\x61\151\154\145\144"] = true; goto sXvm6; HebDN: we7_setcookie("\x61\x63\143\145\x73\x73\x74\157\153\x65\156", ''); goto JVVhZ; KTj5y: define("\x41\120\111\x5f\110\x4f\x53\124", "\x68\x74\x74\160\x3a\x2f\x2f\141\x70\x69\56\x77\67\x2e\143\x63"); goto Te_DA; nsyjw: header("\x6c\x6f\143\141\164\x69\x6f\x6e\72\40\x2e\x2f\151\156\x64\145\x78\x2e\x70\x68\x70"); goto xfvWt; POfgh: $ret["\x64\x6f\x6d"]["\157\x6b"] = class_exists("\x44\117\x4d\x44\157\143\x75\155\x65\x6e\164"); goto Amd7s; z5eTx: exit(we7_error(433, "\x61\x63\143\x65\x73\163\x74\x6f\153\145\x6e\40\x65\x78\160\x69\162\x65\x64\56")); goto dm9ui; V408O: $ret["\163\145\x73\163\151\157\156"]["\146\141\x69\154\x65\144"] = true; goto gSKdh; V388r: we7_setcookie("\143\144\156\137\163\157\165\x72\x63\145\x5f\163\151\x7a\145", $source_size); goto emHV3; MBwRB: if (file_exists(IA_INSTALL_ROOT . "\57\x69\x6e\x64\x65\x78\x2e\x70\150\x70") && is_dir(IA_INSTALL_ROOT . "\x2f\167\x65\142") && file_exists($verfile) && file_exists($dbfile)) { goto PoPfb; } goto hl2p3; jN50F: exit(we7_error(432, "\350\xaf\xb7\xe5\205\x88\xe8\216\xb7\xe5\x8f\x96\xe5\x88\x86\345\215\xb7\xe6\x80\xbb\351\207\x8f\x2e")); goto g0UX3; mwXsl: if (!($server["\x75\160\x6c\157\141\x64"] == "\x75\x6e\x6b\x6e\x6f\167" || !strstr($server["\x75\160\x6c\x6f\x61\144"], "\x6d"))) { goto EXhl8; } goto KZXCr; uFKEV: if (!($action == "\143\150\x65\143\x6b\x5f\x73\x69\164\145")) { goto rkdOA; } goto tpX65; PopXf: if (!(!empty($ret["\x61\x73\160\x5f\164\x61\147\x73"]["\x6f\x6b"]) && strtolower($ret["\x61\x73\x70\x5f\x74\141\x67\163"]["\157\153"]) == "\157\156")) { goto LNz1a; } goto aUA1U; m1AMs: LVLfn: goto Q9k2Y; N2lIR: $ret["\x61\x6c\167\x61\x79\163\x5f\160\x6f\x70\x75\x6c\x61\x74\x65\137\162\x61\167\137\160\157\x73\x74\x5f\144\141\x74\141"]["\146\x61\151\x6c\145\x64"] = @ini_get("\141\154\167\x61\x79\163\x5f\x70\x6f\x70\x75\154\141\164\x65\x5f\x72\141\167\x5f\160\x6f\163\164\x5f\x64\x61\x74\141") != "\55\x31"; goto ExO7K; bU7IA: rkdOA: goto SsThl; k2cR1: d40Zs: goto l3jBw; AIlpa: exit(we7_error(430, $register_site_result)); goto bcBZl; o09SX: if ($ret["\146\157\x70\x65\x6e"]["\157\x6b"]) { goto bbByc; } goto oWBBZ; m5p22: if (empty(intval($_GET["\x74\x79\x70\x65"]))) { goto C0VRx; } goto P011S; TLol0: if (!(!we7_network_enable($_SERVER["\123\x45\x52\x56\x45\122\137\x4e\101\x4d\x45"]) && !$local_install)) { goto VNftF; } goto F30h_; AEJg_: goto WMnae; goto KqdOO; p2Pms: $ret["\x72\157\157\164"]["\x6e\141\155\x65"] = "\346\234\xac\345\x9c\xb0\xe7\233\256\xe5\xbd\225\xe5\206\x99\345\x85\245"; goto XF3ng; T172B: we7_setcookie("\x70\x61\x63\x6b\141\147\145\137\x6d\144\x35", $data["\155\x64\x35"]); goto skX3S; lYMTu: $ret["\141\x73\160\137\x74\x61\x67\163"]["\x72\145\x73\x75\x6c\164"] = "\x61\x73\160\137\x74\x61\x67\x73\345\274\200\345\220\xaf\xe7\x8a\xb6\346\x80\x81"; goto aOwGC; zcMS7: PoPfb: goto GpqAs; CZCqw: function we7_update_sitename($sitename) { goto ygpsn; o84bS: W2bRu: goto UCCLb; Rug8i: return "\347\253\x99\347\x82\xb9\xe4\277\xa1\346\x81\257\xe4\xb8\215\345\255\x98\345\x9c\250\357\xbc\214\xe8\257\267\351\x87\x8d\xe6\226\xb0\346\xb3\250\xe5\206\214\347\253\231\xe7\202\xb9\56"; goto o84bS; UKE6p: if (is_array($data) && isset($data["\x65\x72\162\x6f\x72"])) { goto nY3cY; } goto VO8Ef; N6S0K: if (!(empty($site_info["\x73\x69\164\x65"]) || empty($site_info["\163\151\x74\x65"]["\x6b\145\x79"]))) { goto W2bRu; } goto Rug8i; D13SL: return $data["\x65\162\x72\x6f\162"]; goto wPjyd; VO8Ef: return true; goto R4V4R; knBmv: nY3cY: goto D13SL; R4V4R: goto r1eHZ; goto knBmv; ygpsn: global $accesstoken, $_W; goto dnNRt; wPjyd: r1eHZ: goto FdT4y; UCCLb: $data = we7_request_api(API_UPDATE_SITENAME, array("\x61\143\x63\x65\163\163\x5f\164\157\x6b\145\156" => $accesstoken, "\x73\151\164\x65\137\156\x61\x6d\145" => $sitename, "\x73\151\x74\145\137\153\x65\x79" => $site_info["\x73\151\x74\145"]["\x6b\145\171"])); goto UKE6p; dnNRt: $site_info = setting_load("\163\x69\164\145"); goto N6S0K; FdT4y: } goto ou92k; lu1fp: define("\x49\x4e\x5f\123\131\x53", true); goto yUGmS; aJ40f: oVRbo: goto BKuKr; Bsp1g: if (!(file_exists($filename) && !empty($filesize))) { goto LIebP; } goto n71z1; OjUub: $finished = true; goto KxoLD; xEK7o: exit(we7_error(0, "\163\165\143\x63\145\x73\163")); goto kJINm; RZQ09: ini_set("\144\x69\x73\160\154\141\x79\x5f\145\x72\x72\x6f\162\163", 0); goto rTaz6; x0XYm: if ($user_result) { goto FJULU; } goto qL5Zv; GDfeE: if (!($action == "\x6c\157\x67\151\156")) { goto Cmda5; } goto SYn2b; dm9ui: drYNP: goto Jc70v; A0Byd: goto CWFQE; goto aJ40f; C5ebo: exit(we7_error(400, "\xe8\216\xb7\xe5\217\226\x61\143\143\x65\x73\x73\164\x6f\153\x65\156\xe5\244\xb1\350\xb4\xa5\357\274\214\xe8\257\xb7\351\x87\x8d\346\x96\xb0\347\231\273\345\275\x95\56")); goto t9EbH; yef1d: J50Bo: goto K7sFV; kue9V: we7_setcookie("\x69\155\x73\x5f\x66\141\x6d\x69\x6c\x79", in_array($data["\x66\141\155\151\154\x79"], array("\x6c", "\x76", "\x73", "\170")) ? $data["\x66\141\x6d\151\x6c\x79"] : "\x76"); goto GpuIl; I0XKx: N5pnz: goto w8GQF; XERM7: function get_client_ip() { goto mHkQQ; rP9bX: goto o8A1m; goto YP09P; H_f2r: $ip = $_SERVER["\110\x54\x54\x50\137\x43\x44\116\x5f\123\x52\x43\137\111\120"]; goto YeGEq; XOP7L: COzX8: goto dylSo; YP09P: nvtu6: goto Ykkms; jJfO_: if (isset($_SERVER["\110\124\124\x50\137\x43\114\x49\x45\116\x54\x5f\111\x50"])) { goto nE2cy; } goto ByKMf; RupS5: if (!isset($_SERVER["\x52\105\115\117\x54\105\x5f\x41\104\x44\122"])) { goto COzX8; } goto VOLII; II2Pl: if (preg_match("\57\136\x28\x5b\x30\55\71\x5d\173\x31\54\x33\175\134\56\51\x7b\x33\175\133\x30\x2d\x39\135\173\x31\x2c\63\x7d\44\x2f", $ip)) { goto nvtu6; } goto He6zf; VOLII: $ip = $_SERVER["\x52\x45\x4d\117\x54\105\137\x41\104\104\x52"]; goto XOP7L; Aaoar: flRiT: goto XpXjq; YeGEq: goto uscaD; goto td3XS; mHkQQ: static $ip = ''; goto RupS5; yPsEJ: VrP3Q: goto H_f2r; ByKMf: if (isset($_SERVER["\x48\124\124\x50\137\130\137\106\117\122\127\101\122\104\x45\x44\137\x46\x4f\x52"]) && preg_match_all("\x23\x5c\144\x7b\x31\x2c\x33\175\134\56\x5c\x64\x7b\x31\x2c\x33\x7d\134\x2e\134\x64\173\x31\x2c\63\x7d\134\56\134\144\173\61\54\63\175\43\x73", $_SERVER["\x48\x54\124\120\137\x58\x5f\106\x4f\122\x57\101\x52\104\x45\x44\x5f\x46\117\122"], $matches)) { goto flRiT; } goto muvBz; XpXjq: foreach ($matches[0] as $xip) { goto oNiKa; FX9TB: U7F_n: goto WJ32c; oNiKa: if (preg_match("\43\136\50\61\60\x7c\x31\67\62\x5c\x2e\x31\66\174\61\x39\62\x5c\56\x31\66\x38\x29\134\x2e\43", $xip)) { goto U7F_n; } goto X4I5_; En7ar: goto Ja27F; goto FX9TB; X4I5_: $ip = $xip; goto En7ar; WJ32c: oNqBK: goto pBc4u; pBc4u: } goto KXgMb; KXgMb: Ja27F: goto Tnyjn; UlXm4: $ip = $_SERVER["\x48\124\x54\x50\137\103\x4c\111\105\116\x54\x5f\111\120"]; goto Hlout; muvBz: goto uscaD; goto yPsEJ; UYFkC: o8A1m: goto fD1OW; Tnyjn: uscaD: goto II2Pl; Hlout: goto uscaD; goto Aaoar; dylSo: if (isset($_SERVER["\110\124\124\120\x5f\x43\x44\x4e\137\x53\x52\x43\137\x49\x50"])) { goto VrP3Q; } goto jJfO_; He6zf: return "\x31\x32\x37\x2e\60\x2e\x30\56\x31"; goto rP9bX; td3XS: nE2cy: goto UlXm4; Ykkms: return $ip; goto UYFkC; fD1OW: }